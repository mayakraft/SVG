!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).SVG=t()}(this,(function(){"use strict";const e="class",t="function",r="undefined",n="number",a="string",o="object",i="svg",s="path",l="id",c="style",f="viewBox",d="transform",u="points",p="stroke",h="none",m="arrow",g="head",b="tail",y=typeof window!==r&&typeof window.document!==r;typeof process!==r&&null!=process.versions&&process.versions.node;const v="window not set; svg.window = @xmldom/xmldom",w={window:void 0};y&&(w.window=window);const x=()=>{if(void 0===w.window)throw v;return w.window},k="http://www.w3.org/2000/svg",A={presentation:["color","color-interpolation","cursor","direction","display","fill","fill-opacity","fill-rule","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","opacity","overflow","paint-order","pointer-events","preserveAspectRatio","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tabindex","transform-origin","user-select","vector-effect","visibility"],animation:["accumulate","additive","attributeName","begin","by","calcMode","dur","end","from","keyPoints","keySplines","keyTimes","max","min","repeatCount","repeatDur","restart","to","values"],effects:["azimuth","baseFrequency","bias","color-interpolation-filters","diffuseConstant","divisor","edgeMode","elevation","exponent","filter","filterRes","filterUnits","flood-color","flood-opacity","in","in2","intercept","k1","k2","k3","k4","kernelMatrix","lighting-color","limitingConeAngle","mode","numOctaves","operator","order","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","primitiveUnits","radius","result","seed","specularConstant","specularExponent","stdDeviation","stitchTiles","surfaceScale","targetX","targetY","type","xChannelSelector","yChannelSelector"],text:["dx","dy","alignment-baseline","baseline-shift","dominant-baseline","lengthAdjust","method","overline-position","overline-thickness","rotate","spacing","startOffset","strikethrough-position","strikethrough-thickness","text-anchor","text-decoration","text-rendering","textLength","underline-position","underline-thickness","word-spacing","writing-mode"],gradient:["gradientTransform","gradientUnits","spreadMethod"]},C={svg:["svg"],defs:["defs"],header:["desc","filter","metadata","style","script","title","view"],cdata:["cdata"],group:["g"],visible:["circle","ellipse","line","path","polygon","polyline","rect","arc","arrow","curve","parabola","roundRect","wedge","origami"],text:["text"],invisible:["marker","symbol","clipPath","mask"],patterns:["linearGradient","radialGradient","pattern"],childrenOfText:["textPath","tspan"],gradients:["stop"],filter:["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]},E={svg:[f],line:["x1","y1","x2","y2"],rect:["x","y","width","height"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],polygon:[u],polyline:[u],path:["d"],text:["x","y"],mask:[l],symbol:[l],clipPath:[l,"clip-rule"],marker:[l,"markerHeight","markerUnits","markerWidth","orient","refX","refY"],linearGradient:["x1","x2","y1","y2"],radialGradient:["cx","cy","r","fr","fx","fy"],stop:["offset","stop-color","stop-opacity"],pattern:["patternContentUnits","patternTransform","patternUnits"]};[{nodes:[i,"defs","g"].concat(C.visible,C.text),attr:A.presentation},{nodes:["filter"],attr:A.effects},{nodes:C.childrenOfText.concat("text"),attr:A.text},{nodes:C.filter,attr:A.effects},{nodes:C.gradients,attr:A.gradient}].forEach((e=>e.nodes.forEach((t=>{E[t]||(E[t]=[]),E[t].push(...e.attr)}))));const j=[C.header,C.invisible,C.patterns].flat(),M=[C.group,C.visible,C.text].flat(),O={svg:[["svg","defs"],j,M].flat(),defs:j,filter:C.filter,g:M,text:C.childrenOfText,marker:M,symbol:M,clipPath:M,mask:M,linearGradient:C.gradients,radialGradient:C.gradients},P=Object.values(C).flat(),$={black:"#000000",silver:"#c0c0c0",gray:"#808080",white:"#ffffff",maroon:"#800000",red:"#ff0000",purple:"#800080",fuchsia:"#ff00ff",green:"#008000",lime:"#00ff00",olive:"#808000",yellow:"#ffff00",navy:"#000080",blue:"#0000ff",teal:"#008080",aqua:"#00ffff",orange:"#ffa500",aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",blanchedalmond:"#ffebcd",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",oldlace:"#fdf5e6",olivedrab:"#6b8e23",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",whitesmoke:"#f5f5f5",yellowgreen:"#9acd32"},_=(e,t,r)=>{const n=r/100,a=t=>(t+e/30)%12,o=t/100*Math.min(n,1-n),i=e=>n-o*Math.max(-1,Math.min(a(e)-3,Math.min(9-a(e),1)));return[255*i(0),255*i(8),255*i(4)]},N=(e,t)=>{const r=Array.from(Array(t.length)).map(((t,r)=>e[r]||"0"));return e.length<=4?t.map((e=>r[e])).join(""):r.join("")},S=e=>{const t=e.replace(/#(?=\S)/g,""),r=4===t.length||8===t.length,n=N(t,r?[0,0,1,1,2,2,3,3]:[0,0,1,1,2,2]),a=parseInt(n,16);return r?[a>>24&255,a>>16&255,a>>8&255,255&a]:[a>>16&255,a>>8&255,255&a]},T=(e,t,r,n)=>{const a=e=>`00${Math.max(0,Math.min(Math.round(e),255)).toString(16)}`.slice(-2),o=`#${[e,t,r].map(a).join("")}`;return void 0===n?o:`${o}${a(255*n)}`},z=Object.freeze({__proto__:null,hexToRgb:S,hslToRgb:_,rgbToHex:T}),q=e=>{const t=e.match(/\(([^\)]+)\)/g);return null!=t&&t.length?t[0].substring(1,t[0].length-1).split(/[\s,]+/).map(parseFloat):[]},L=Object.freeze({__proto__:null,parseColorToHex:e=>{if($[e])return $[e].toUpperCase();if("#"===e[0])return T(...S(e));if("rgba"===e.substring(0,4)||"rgb"===e.substring(0,3))return T(...q(e));if("hsla"===e.substring(0,4)||"hsl"===e.substring(0,3)){const t=q(e);[0,1,2].filter((e=>void 0===t[e])).forEach((e=>{t[e]=0}));const r=_(...t);4===t.length&&r.push(t[3]),[0,1,2].forEach((e=>{r[e]*=255})),T(...r)}},parseColorToRgb:e=>{if($[e])return S($[e]);if("#"===e[0])return S(e);if("rgba"===e.substring(0,4)||"rgb"===e.substring(0,3)){const t=q(e);return[0,1,2].filter((e=>void 0===t[e])).forEach((e=>{t[e]=0})),t}if("hsla"===e.substring(0,4)||"hsl"===e.substring(0,3)){const t=q(e);[0,1,2].filter((e=>void 0===t[e])).forEach((e=>{t[e]=0}));const r=_(...t);return 4===t.length&&r.push(t[3]),r}}}),B={cssColors:$,...z,...L},F=(e,t)=>[e[0]+t[0],e[1]+t[1]],U=(e,t)=>[e[0]-t[0],e[1]-t[1]],D=(e,t)=>[e[0]*t,e[1]*t],R=e=>e[0]**2+e[1]**2,V=e=>Math.sqrt(R(e)),G=(e,t)=>R(U(e,t)),Z=(e,t)=>Math.sqrt(G(e,t)),H=(e,t)=>[Math.cos(e)*t,Math.sin(e)*t],I=(e,t)=>[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]],Y=Object.freeze({__proto__:null,svg_add2:F,svg_distance2:Z,svg_distanceSq2:G,svg_magnitude2:V,svg_magnitudeSq2:R,svg_multiplyMatrices2:I,svg_polar_to_cart:H,svg_scale2:D,svg_sub2:U}),X=function(e,t){switch(e){case"translate":return function(e){switch(e.length){case 1:return[1,0,0,1,e[0],0];case 2:return[1,0,0,1,e[0],e[1]];default:console.warn(`improper translate, ${e}`)}}(t);case"rotate":return function(e){const t=Math.cos(e[0]/(180*Math.PI)),r=Math.sin(e[0]/(180*Math.PI));switch(e.length){case 1:return[t,r,-r,t,0,0];case 3:return[t,r,-r,t,-e[1]*t+e[2]*r+e[1],-e[1]*r-e[2]*t+e[2]];default:console.warn(`improper rotate, ${e}`)}}(t);case"scale":return function(e){switch(e.length){case 1:return[e[0],0,0,e[0],0,0];case 2:return[e[0],0,0,e[1],0,0];default:console.warn(`improper scale, ${e}`)}}(t);case"skewX":return function(e){return[1,0,Math.tan(e[0]/(180*Math.PI)),1,0,0]}(t);case"skewY":return function(e){return[1,Math.tan(e[0]/(180*Math.PI)),0,1,0,0]}(t);case"matrix":return t;default:console.warn(`unknown transform type ${e}`)}},Q=function(e){return function(e){const t=e.match(/(\w+\((\-?\d+\.?\d*e?\-?\d*,?\s*)+\))+/g);return t?t.map((e=>e.match(/[\w\.\-]+/g))).map((e=>({transform:e.shift(),parameters:e.map((e=>parseFloat(e)))}))):[]}(e).map((e=>X(e.transform,e.parameters))).filter((e=>void 0!==e)).reduce(((e,t)=>I(e,t)),[1,0,0,1,0,0])},W=Object.freeze({__proto__:null,transformStringToMatrix:Q}),J=(e,t)=>(e.nodeName||"")===t?e:e.parentNode?J(e.parentNode,t):void 0,K=e=>null!=e.childNodes&&e.childNodes.length?Array.from(e.childNodes).flatMap((e=>K(e))):[e],ee={svg:["viewBox","xmlns","version"],line:["x1","y1","x2","y2"],rect:["x","y","width","height"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],polygon:["points"],polyline:["points"],path:["d"]},te=(e,t)=>{const r=(e=>{const t={};return e.forEach((e=>{t[e.nodeName]=e.value})),t})((e=>{const t=e.attributes;if(null==t)return[];const r=Array.from(t);return ee[e.nodeName]?r.filter((t=>!ee[e.nodeName].includes(t.name))):r})(t));if(!r.transform&&!e.transform)return{...e,...r};const n=r.transform||"",a=e.transform||"",o=Q(n),i=Q(a),s=`matrix(${I(i,o).join(", ")})`;return{...e,...r,transform:s}},re=(e,t={})=>null!=e.childNodes&&e.childNodes.length?Array.from(e.childNodes).flatMap((e=>re(e,te(t,e)))):[{element:e,attributes:t}],ne=Object.freeze({__proto__:null,addClass:(e,...t)=>{if(e&&t.length)return e.classList?e.classList.add(...t):((e,...t)=>{const r={},n=e.getAttribute("class"),a=n?n.split(" "):[];a.push(...t),a.forEach((e=>{r[e]=!0}));const o=Object.keys(r).join(" ");e.setAttribute("class",o)})(e,...t)},findElementTypeInParents:J,flattenDomTree:K,flattenDomTreeWithStyle:re,getRootParent:e=>{let t=e;for(;null!=t.parentNode;)t=t.parentNode;return t},xmlStringToElement:(e,t="text/xml")=>{const r=(new(x().DOMParser)).parseFromString(e,t);return r?r.documentElement:null}}),ae=e=>(new(x().DOMParser)).parseFromString("<root></root>","text/xml").createCDATASection(e),oe=/[MmLlSsQqLlHhVvCcSsQqTtAaZz]/g,ie=/-?[0-9]*\.?\d+/g,se={m:"move",l:"line",v:"vertical",h:"horizontal",a:"ellipse",c:"curve",s:"smoothCurve",q:"quadCurve",t:"smoothQuadCurve",z:"close"};Object.keys(se).forEach((e=>{const t=se[e];se[e.toUpperCase()]=t.charAt(0).toUpperCase()+t.slice(1)}));const le=(e,t)=>[e[0]+(t[0]||0),e[1]+(t[1]||0)],ce=e=>{const t=[];let r;for(;null!==(r=oe.exec(e));)t.push(r);return t.map(((t,r,n)=>[t[0],t.index,r===n.length-1?e.length-1:n[(r+1)%n.length].index-1])).map((t=>{const r=t[0],n=e.substring(t[1]+1,t[2]+1).match(ie);return{command:r,values:n?n.map(parseFloat):[]}}))},fe=(...e)=>e.filter((e=>typeof e===n)).concat(e.filter((e=>typeof e===o&&null!==e)).map((e=>typeof e.x===n?[e.x,e.y]:typeof e[0]===n?[e[0],e[1]]:void 0)).filter((e=>void 0!==e)).reduce(((e,t)=>e.concat(t)),[])),de=(...e)=>{const t=fe(...e.flat());return 2===t.length&&t.unshift(0,0),4===t.length?function(e,t,r,n,a=0){const o=r/1-r;return[e-o-a,t-o-a,r+2*o+2*a,n+2*o+2*a].join(" ")}(...t):void 0},ue=(e,...t)=>{const r=1===t.length&&typeof t[0]===a?t[0]:de(...t);return r&&e.setAttribute(f,r),e},pe=function(e){const t=e.getAttribute(f);return null==t?void 0:t.split(" ").map((e=>parseFloat(e)))},he=function(e,t,r){const n=e.createSVGPoint();n.x=t,n.y=r;const a=n.matrixTransform(e.getScreenCTM().inverse());return[a.x,a.y]},me={...Y,...ne,makeCDATASection:ae,...Object.freeze({__proto__:null,parsePathCommands:ce,parsePathCommandsWithEndpoints:e=>{let t=[0,0];const r=ce(e);if(!r.length)return r;r.forEach(((e,n)=>{r[n].end=((e,t,r=[0,0])=>{const n=e.toUpperCase();let a=e===n?[0,0]:r;switch("V"===e&&(a=[r[0],0]),"H"===e&&(a=[0,r[1]]),n){case"V":return le(a,[0,t[0]]);case"H":return le(a,[t[0],0]);case"M":case"L":case"T":return le(a,t);case"A":return le(a,[t[5],t[6]]);case"C":return le(a,[t[4],t[5]]);case"S":case"Q":return le(a,[t[2],t[3]]);case"Z":return;default:return a}})(e.command,e.values,t),r[n].start=0===n?t:r[n-1].end,t=r[n].end}));const n=r[r.length-1],a=r.filter((e=>"M"!==e.command.toUpperCase()&&"Z"!==e.command.toUpperCase())).shift();return"Z"===n.command.toUpperCase()&&(n.end=[...a.start]),r},pathCommandNames:se}),...W,...Object.freeze({__proto__:null,convertToViewBox:he,getViewBox:pe,setViewBox:ue})},ge=function(e){const r=pe(e);if(void 0!==r)return r;if(typeof e.getBoundingClientRect===t){const t=e.getBoundingClientRect();return[t.x,t.y,t.width,t.height]}return[]},be="svg-background-rectangle",ye=e=>{const t=e.getAttribute(d);return null==t||""===t?void 0:t},ve={clearTransform:e=>(e.removeAttribute(d),e)};["translate","rotate","scale","matrix"].forEach((e=>{ve[e]=(t,...r)=>(t.setAttribute(d,[ye(t),`${e}(${r.join(" ")})`].filter((e=>void 0!==e)).join(" ")),t)}));const we=e=>e.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace("-","").replace("_",""))),xe=e=>{for(;e.lastChild;)e.removeChild(e.lastChild);return e},ke=(e,t)=>(t&&t.appendChild&&t.appendChild(e),e),Ae=(e,t)=>(Object.keys(t).forEach((r=>e.setAttribute(r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z])(?=[a-z])/g,"$1-$2").toLowerCase(),t[r]))),e),Ce=Object.freeze({__proto__:null,appendTo:ke,removeChildren:xe,setAttributes:Ae}),Ee=function(e,t){let r=function(e,t){const r=e.getElementsByTagName(t);return r.length?r[0]:null}(e,c);return null==r&&(r=x().document.createElementNS(k,c),r.setTextContent=e=>(r.textContent="",r.appendChild(ae(e)),r),e.insertBefore(r,e.firstChild)),r.textContent="",r.appendChild(ae(t)),r},je={clear:e=>(Array.from(e.attributes).filter((e=>"xmlns"!==e.name&&"version"!==e.name)).forEach((t=>e.removeAttribute(t.name))),xe(e)),size:ue,setViewBox:ue,getViewBox:pe,padding:function(e,t){const r=pe(e);return void 0!==r&&ue(e,...[-t,-t,2*t,2*t].map(((e,t)=>r[t]+e))),e},background:function(t,r){let n=Array.from(t.childNodes).filter((t=>t.getAttribute(e)===be)).shift();return null==n&&(n=x().document.createElementNS(k,"rect"),ge(t).forEach(((e,t)=>n.setAttribute(E.rect[t],e))),n.setAttribute(e,be),n.setAttribute(p,h),t.insertBefore(n,t.firstChild)),n.setAttribute("fill",r),t},getWidth:e=>ge(e)[2],getHeight:e=>ge(e)[3],stylesheet:function(e,t){return Ee.call(this,e,t)},...ve,...Ce},Me={move:["mousemove","touchmove"],press:["mousedown","touchstart"],release:["mouseup","touchend"],leave:["mouseleave","touchcancel"]},Oe=(e,t,r)=>Object.defineProperty(e,t,{get:()=>r,enumerable:!0,configurable:!0}),Pe=function(e){const t=[];Object.keys(Me).forEach((e=>{Me[e].forEach((e=>{t[e]=[]}))}));Object.keys(Me).forEach((r=>{var n;Object.defineProperty(e,`on${n=r,n.charAt(0).toUpperCase()+n.slice(1)}`,{set:n=>{e.addEventListener&&(null!=n?Me[r].forEach((r=>{const a=t=>{const r=null!=t.touches?t.touches[0]:t;if(void 0!==r){const{clientX:n,clientY:a}=r,[o,i]=he(e,n,a);Oe(t,"x",o),Oe(t,"y",i)}n(t)};t[r].push(a),e.addEventListener(r,a)})):(r=>{Me[r].forEach((r=>t[r].forEach((t=>e.removeEventListener(r,t)))))})(r))},enumerable:!0})})),Object.defineProperty(e,"off",{value:()=>((e,t)=>Object.values(Me).flat().forEach((r=>{t[r].forEach((t=>e.removeEventListener(r,t))),t[r]=[]})))(e,t)})},$e=()=>Math.random().toString(36).replace(/[^a-z]+/g,"").concat("aaaaa").substr(0,5),_e=[["cx","cy"],["x","y"]],Ne=function(e,r={}){const n=[0,0],a={selected:!1,svg:void 0,updatePosition:e=>e},o=()=>{a.svg&&(a.svg.parentNode||e.appendChild(a.svg),_e.filter((e=>null!=a.svg[e[0]])).forEach((e=>e.forEach(((e,t)=>{a.svg.setAttribute(e,n[t])})))))},s=new Proxy(n,{set:(e,t,r)=>(e[t]=r,o(),!0)}),l=function(...e){fe(...e.flat()).forEach(((e,t)=>{n[t]=e})),o(),typeof n.delegate===t&&n.delegate.apply(n.pointsContainer,[s,n.pointsContainer])};return n.delegate=void 0,n.setPosition=l,n.onMouseMove=e=>a.selected?l(a.updatePosition(e)):void 0,n.onMouseUp=()=>{a.selected=!1},n.distance=e=>Math.sqrt(G(e,n)),["x","y"].forEach(((e,t)=>Object.defineProperty(n,e,{get:()=>n[t],set:e=>{n[t]=e}}))),[i,"updatePosition","selected"].forEach((e=>Object.defineProperty(n,e,{get:()=>a[e],set:t=>{a[e]=t}}))),Object.defineProperty(n,"remove",{value:()=>{var e;(e=a.svg)&&e.parentNode&&e.parentNode.removeChild(e),n.delegate=void 0}}),s},Se=function(e,r,n){let a,o;const i=Array.from(Array(r)).map((()=>Ne(e,n))),s=e=>typeof o===t?o.call(i,e,a,i):void 0;i.forEach((e=>{e.delegate=s,e.pointsContainer=i}));e.onPress=function(e){i.length>0&&(a=i.map(((t,r)=>({i:r,d:G(t,[e.x,e.y])}))).sort(((e,t)=>e.d-t.d)).shift().i,i[a].selected=!0)},e.onMove=function(e){i.forEach((t=>t.onMouseMove(e)))},e.onRelease=function(){i.forEach((e=>e.onMouseUp())),a=void 0},Object.defineProperty(i,"selectedIndex",{get:()=>a}),Object.defineProperty(i,"selected",{get:()=>i[a]}),Object.defineProperty(i,"add",{value:t=>{i.push(Ne(e,t))}}),i.removeAll=()=>{for(;i.length>0;)i.pop().remove()};const l={onChange:(e,t)=>{if(o=e,!0===t){const t=i.length-1;e.call(i,i[t],t,i)}},position:e=>i.forEach(((t,r)=>t.setPosition(e.call(i,t,r,i)))),svg:e=>i.forEach(((t,r)=>{t.svg=e.call(i,t,r,i)}))};return Object.keys(l).forEach((e=>{i[e]=function(){return typeof arguments[0]===t&&l[e](...arguments),i}})),i.parent=function(e){return null!=e&&null!=e.appendChild&&i.forEach((t=>{e.appendChild(t.svg)})),i},i},Te=e=>{e.controls=(...t)=>Se.call(e,e,...t)},ze={svg:{args:(...e)=>[de(fe(...e))].filter((e=>null!=e)),methods:je,init:(...e)=>{const t=x().document.createElementNS(k,"svg");return t.setAttribute("version","1.1"),t.setAttribute("xmlns",k),e.filter((e=>null!=e)).filter((e=>e.appendChild)).forEach((e=>e.appendChild(t))),Pe(t),function(e){let t,r,n=0;const a={},o=()=>{x().cancelAnimationFrame&&x().cancelAnimationFrame(r),Object.keys(a).forEach((e=>delete a[e]))};Object.defineProperty(e,"play",{set:e=>{if(o(),!e||!x().requestAnimationFrame)return;t=performance.now(),n=0;const i=$e();a[i]=o=>{e({time:.001*(o-t),frame:n}),n+=1,a[i]&&(r=x().requestAnimationFrame(a[i]))},r=x().requestAnimationFrame(a[i])},enumerable:!0}),Object.defineProperty(e,"stop",{value:o,enumerable:!0})}(t),Te(t),t}}},qe={};["clip-path","mask","symbol","marker-end","marker-mid","marker-start"].forEach((e=>{qe[we(e)]=(t,r)=>(t.setAttribute(e,function(e){if(null==e)return"";if(typeof e===a)return"url"===e.slice(0,3)?e:`url(#${e})`;if(null!=e.getAttribute)return`url(#${e.getAttribute(l)})`;return""}(r)),t)}));const Le={g:{methods:{...ve,...qe,...Ce}}},Be=(e,t)=>(e.setAttribute(E.circle[2],t),e),Fe=(e,t,r)=>([...fe(...[t,r].flat()).slice(0,2)].forEach(((t,r)=>e.setAttribute(E.circle[r],t))),e),Ue={circle:{args:(e,t,r,n)=>{const a=fe(...[e,t,r,n].flat());switch(a.length){case 0:case 1:return[,,...a];case 2:case 3:return a;default:return((e,t,r,n)=>[e,t,Z([e,t],[r,n])])(...a)}},methods:{radius:Be,setRadius:Be,origin:Fe,setOrigin:Fe,center:Fe,setCenter:Fe,position:Fe,setPosition:Fe,...ve,...qe,...Ce}}},De=(e,t,r)=>([,,t,r].forEach(((t,r)=>e.setAttribute(E.ellipse[r],t))),e),Re=(e,t,r)=>([...fe(...[t,r].flat()).slice(0,2)].forEach(((t,r)=>e.setAttribute(E.ellipse[r],t))),e),Ve={ellipse:{args:(e,t,r,n)=>{const a=fe(...[e,t,r,n].flat()).slice(0,4);switch(a.length){case 0:case 1:case 2:return[,,...a];default:return a}},methods:{radius:De,setRadius:De,origin:Re,setOrigin:Re,center:Re,setCenter:Re,position:Re,setPosition:Re,...ve,...qe,...Ce}}},Ge=e=>null!=e&&typeof e[Symbol.iterator]===t,Ze=function(){switch(arguments.length){case 0:return Array.from(arguments);case 1:return Ge(arguments[0])&&typeof arguments[0]!==a?Ze(...arguments[0]):[arguments[0]];default:return Array.from(arguments).map((e=>Ge(e)?[...Ze(e)]:e))}},He=(...e)=>fe(...Ze(...e)).slice(0,4),Ie={line:{args:He,methods:{setPoints:(e,...t)=>(He(...t).forEach(((t,r)=>e.setAttribute(E.line[r],t))),e),...ve,...qe,...Ce}}},Ye=e=>{const t=e.getAttribute("d");return null==t?"":t},Xe=(e,t,...r)=>(e.setAttribute("d",`${Ye(e)}${t}${r.flat().join(" ")}`),e),Qe=e=>ce(Ye(e)),We={addCommand:Xe,appendCommand:Xe,clear:e=>(e.removeAttribute("d"),e),getCommands:Qe,get:Qe,getD:e=>e.getAttribute("d"),...ve,...qe,...Ce};Object.keys(se).forEach((e=>{We[se[e]]=(t,...r)=>Xe(t,e,...r)}));const Je={path:{methods:We}},Ke=(e,t,r)=>([,,t,r].forEach(((t,r)=>e.setAttribute(E.rect[r],t))),e),et=(e,t,r)=>([...fe(...[t,r].flat()).slice(0,2)].forEach(((t,r)=>e.setAttribute(E.rect[r],t))),e),tt=function(e){return[0,1].forEach((t=>{e[2+t]<0&&(void 0===e[0+t]&&(e[0+t]=0),e[0+t]+=e[2+t],e[2+t]=-e[2+t])})),e},rt={rect:{args:(e,t,r,n)=>{const a=fe(...[e,t,r,n].flat()).slice(0,4);switch(a.length){case 0:case 1:case 2:case 3:return tt([,,...a]);default:return tt(a)}},methods:{origin:et,setOrigin:et,center:et,setCenter:et,size:Ke,setSize:Ke,...ve,...qe,...Ce}}},nt={style:{init:e=>{const t=x().document.createElementNS(k,"style");return t.setAttribute("type","text/css"),t.textContent="",t.appendChild(ae(e)),t},methods:{setTextContent:(e,t)=>(e.textContent="",e.appendChild(ae(t)),e)}}},at={text:{args:(e,t,r)=>fe(...[e,t,r].flat()).slice(0,2),init:(e,t,r,n)=>{const o=x().document.createElementNS(k,"text"),i=[e,t,r,n].filter((e=>typeof e===a)).shift();return o.appendChild(x().document.createTextNode(i||"")),o},methods:{...ve,...qe,appendTo:ke,setAttributes:Ae}}},ot=function(){return Array.from(arguments).filter((e=>typeof e===a||e instanceof String)).shift()||$e()},it=(...e)=>[ot(...e)],st={mask:{args:it,methods:{...ve,...qe,...Ce}},clipPath:{args:it,methods:{...ve,...qe,...Ce}},symbol:{args:it,methods:{...ve,...qe,...Ce}},marker:{args:it,methods:{size:ue,setViewBox:ue,...ve,...qe,...Ce}}},lt=e=>{const t=e.getAttribute(u);return null==t?"":t},ct=function(){return Array.from(Array(Math.floor(arguments.length/2))).map(((e,t)=>`${arguments[2*t+0]},${arguments[2*t+1]}`)).join(" ")},ft=(...e)=>[ct(...fe(...Ze(...e)))],dt=(e,...t)=>(e.setAttribute(u,ft(...t)[0]),e),ut=(e,...t)=>(e.setAttribute(u,[lt(e),ft(...t)[0]].filter((e=>""!==e)).join(" ")),e),pt=function(...e){return 1===e.length&&typeof e[0]===a?[e[0]]:ft(...e)},ht={polyline:{args:pt,methods:{setPoints:dt,addPoint:ut,...ve,...qe,...Ce}},polygon:{args:pt,methods:{setPoints:dt,addPoint:ut,...ve,...qe,...Ce}}},mt=(e,t,r,n,a,o=!1)=>{if(null==a)return"";const i=H(n,r),s=H(a,r),l=[s[0]-i[0],s[1]-i[1]],c=i[0]*s[1]-i[1]*s[0],f=i[0]*s[0]+i[1]*s[1],d=Math.atan2(c,f)>0?0:1;let u=o?`M ${e},${t} l ${i[0]},${i[1]} `:`M ${e+i[0]},${t+i[1]} `;return u+=["a ",r,r,0,d,1,l[0],l[1]].join(" "),o&&(u+=" Z"),u},gt=(e,t,r,n,a)=>[mt(e,t,r,n,a,!1)],bt={arc:{nodeName:s,attributes:["d"],args:gt,methods:{setArc:(e,...t)=>e.setAttribute("d",gt(...t)),...ve}}},yt=[b,g],vt=e=>e.join(","),wt=e=>"M"+e.map((e=>e.join(","))).join("L")+"Z",xt=(e,t,r)=>{"boolean"==typeof t?e.options[r].visible=t:typeof t===o?(Object.assign(e.options[r],t),null==t.visible&&(e.options[r].visible=!0)):null==t&&(e.options[r].visible=!0)},kt=(e,r={},n=g)=>{const a=e.getElementsByClassName(`${m}-${n}`)[0];Object.keys(r).map((e=>({key:e,fn:a[we(e)]}))).filter((e=>typeof e.fn===t&&"class"!==e.key)).forEach((e=>e.fn(r[e.key]))),Object.keys(r).filter((e=>"class"===e)).forEach((e=>a.classList.add(r[e])))},At=e=>{const t=function(e){let t=[[0,1],[2,3]].map((t=>t.map((t=>e.points[t]||0)))),r=U(t[1],t[0]),n=F(t[0],D(r,.5));const a=V(r),o=yt.map((t=>e[t].visible?(1+e[t].padding)*e[t].height*2.5:0)).reduce(((e,t)=>e+t),0);if(a<o){const e=0===a?[o,0]:D(r,o/a);t=[U,F].map((t=>t(n,D(e,.5)))),r=U(t[1],t[0])}let i=[r[1],-r[0]],s=F(n,D(i,e.bend));const l=t.map((e=>U(s,e))),c=l.map((e=>V(e))),f=l.map(((e,t)=>0===c[t]?e:D(e,1/c[t]))),d=f.map((e=>D(e,-1))),u=d.map((e=>[e[1],-e[0]])),p=yt.map(((t,r)=>e[t].padding?e[t].padding:e.padding?e.padding:0)),h=yt.map(((t,r)=>e[t].height*(e[t].visible?1:0))).map(((e,t)=>e+p[t])),m=t.map(((e,t)=>F(e,D(f[t],h[t]))));r=U(m[1],m[0]),i=[r[1],-r[0]],n=F(m[0],D(r,.5)),s=F(n,D(i,e.bend));const g=m.map(((t,r)=>F(t,D(U(s,t),e.pinch)))),b=yt.map(((t,r)=>[F(m[r],D(d[r],e[t].height)),F(m[r],D(u[r],e[t].width/2)),F(m[r],D(u[r],-e[t].width/2))]));return{line:`M${vt(m[0])}C${vt(g[0])},${vt(g[1])},${vt(m[1])}`,tail:wt(b[0]),head:wt(b[1])}}(e.options);return Object.keys(t).map((t=>({path:t,element:e.getElementsByClassName(`${m}-${t}`)[0]}))).filter((e=>e.element)).map((e=>(e.element.setAttribute("d",t[e.path]),e))).filter((t=>e.options[t.path])).forEach((t=>t.element.setAttribute("visibility",e.options[t.path].visible?"visible":"hidden"))),e},Ct=(e,...t)=>(e.options.points=fe(...Ze(...t)).slice(0,4),At(e)),Et={setPoints:Ct,points:Ct,bend:(e,t)=>(e.options.bend=t,At(e)),pinch:(e,t)=>(e.options.pinch=t,At(e)),padding:(e,t)=>(e.options.padding=t,At(e)),head:(e,t)=>(xt(e,t,g),kt(e,t,g),At(e)),tail:(e,t)=>(xt(e,t,b),kt(e,t,b),At(e)),getLine:e=>e.getElementsByClassName(`${m}-line`)[0],getHead:e=>e.getElementsByClassName(`${m}-${g}`)[0],getTail:e=>e.getElementsByClassName(`${m}-${b}`)[0],...ve},jt=Object.keys({head:{visible:!1,width:8,height:10,padding:0},tail:{visible:!1,width:8,height:10,padding:0},bend:0,padding:0,pinch:.618,points:[]}),Mt={arrow:{nodeName:"g",attributes:[],args:()=>[],methods:Et,init:function(e,...t){e.classList.add(m);const r=["line",b,g].map((t=>{const r=x().document.createElementNS(k,s);return r.className=`${m}-${t}`,e.appendChild(r),r}));r[0].setAttribute(c,"fill:none;"),r[1].setAttribute(p,h),r[2].setAttribute(p,h),e.options={head:{visible:!1,width:8,height:10,padding:0},tail:{visible:!1,width:8,height:10,padding:0},bend:0,padding:0,pinch:.618,points:[]},Et.setPoints(e,...t);const n=((...e)=>{for(let t=0;t<e.length;t+=1){if(typeof e[t]!==o)continue;const r=Object.keys(e[t]);for(let n=0;n<r.length;n+=1)if(jt.includes(r[n]))return e[t]}})(...t);return n&&Object.keys(n).filter((e=>Et[e])).forEach((t=>Et[t](e,n[t]))),e}}},Ot=(e=[],t=0,r=.5)=>{const n=[e[0]||0,e[1]||0],a=[e[2]||0,e[3]||0],o=U(a,n),i=F(n,D(o,.5)),s=[o[1],-o[0]],l=F(i,D(s,t)),c=F(n,D(U(l,n),r)),f=F(a,D(U(l,a),r));return`M${n[0]},${n[1]}C${c[0]},${c[1]} ${f[0]},${f[1]} ${a[0]},${a[1]}`},Pt=e=>e.slice(1).split(/[, ]+/).map((e=>parseFloat(e))),$t=e=>{const t=(e=>e.match(/[Mm][(0-9), .-]+/).map((e=>Pt(e))))(e).shift(),r=(e=>e.match(/[Cc][(0-9), .-]+/).map((e=>Pt(e))))(e).shift();return[...t?[t[t.length-2],t[t.length-1]]:[0,0],...r?[r[r.length-2],r[r.length-1]]:[0,0]]},_t=(e,...t)=>{const r=fe(...t.flat()).slice(0,4);return e.setAttribute("d",Ot(r,e._bend,e._pinch)),e},Nt={setPoints:_t,bend:(e,t)=>(e._bend=t,_t(e,...$t(e.getAttribute("d")))),pinch:(e,t)=>(e._pinch=t,_t(e,...$t(e.getAttribute("d")))),...ve},St={curve:{nodeName:s,attributes:["d"],args:(...e)=>[Ot(fe(...e.flat()))],methods:Nt}},Tt=(e,t,r,n,a)=>[mt(e,t,r,n,a,!0)],zt={wedge:{nodeName:s,args:Tt,attributes:["d"],methods:{setArc:(e,...t)=>e.setAttribute("d",Tt(...t)),...ve}}},qt={},Lt={...ze,...Le,...Ue,...Ve,...Ie,...Je,...rt,...nt,...at,...st,...ht,...bt,...Mt,...St,...zt,...{origami:{nodeName:"g",init:(e,...t)=>{const r=x().document.createElementNS(k,"g");return qt.ear.convert.foldToSvg.render(e,r,...t),r},args:()=>[],methods:{...ve,...qe,...Ce}}}},Bt=(...e)=>e,Ft=(e,t,...r)=>{const n=Lt[e]&&Lt[e].nodeName?Lt[e].nodeName:e,{init:a,args:o,methods:i}=Lt[e]||{},s=E[n]||[],l=O[n]||[],c=a?a(...r):x().document.createElementNS(k,n);t&&t.appendChild(c);return(o||Bt)(...r).forEach(((e,t)=>{c.setAttribute(E[n][t],e)})),i&&Object.keys(i).forEach((e=>Object.defineProperty(c,e,{value:function(){return i[e](c,...arguments)}}))),s.forEach((e=>{const t=we(e);c[t]||Object.defineProperty(c,t,{value:function(){return c.setAttribute(e,...arguments),c}})})),l.forEach((e=>{if(c[e])return;Object.defineProperty(c,e,{value:function(){return Ft(e,c,...arguments)}})})),c},Ut=(...e)=>{const r=Ft(i,null,...e),n=()=>e.filter((e=>typeof e===t)).forEach((e=>e.call(r,r)));return"loading"===x().document.readyState?x().document.addEventListener("DOMContentLoaded",n):n(),r};return Object.assign(Ut,{NS:k,nodes_attributes:E,nodes_children:O,extensions:Lt,...B,...me}),P.forEach((e=>{Ut[e]=(...t)=>Ft(e,null,...t)})),Object.defineProperty(Ut,"window",{enumerable:!1,set:e=>(e.document||(e.document=(e=>(new e.DOMParser).parseFromString("<!DOCTYPE html><title>.</title>","text/html"))(e)),w.window=e,w.window)}),Ut}));