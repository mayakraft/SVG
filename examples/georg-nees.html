<!DOCTYPE html>
<title>SVG example: Georg Nees</title>
<style>
html,body{height:100%;}
body{
	background-color: black;
	margin:0;
	display: flex;
	align-items: center;
	justify-content: center;
}
svg{
	max-height: 90vh;
	max-width: 90vw;
}
.box{
	stroke:black;
	fill:none;
	stroke-width:2px;
}
</style>
<script type="text/javascript" src="../svg.js"></script>
<script>

let nees = SVG.image(600, 1030);

nees.draw = function(){
	const countW = 12;
	const countH = 22;
	let unit = 600 / (countW + 2);

	nees.removeChildren();

	let rect = SVG.rect(0, 0, nees.width, nees.height);
	rect.setAttribute("fill", "white");
	nees.appendChild(rect);

	for(var h = 0; h < countH; h++){
		for(var w = 0; w < countW; w++){
			let origin = [1.5*unit + w*unit, 1.5*unit + h*unit];
			let angle = (Math.random()-0.5)*h * 5;
			let trans = [
				(Math.random()-0.5)*h * 2,
				(Math.random()-0.5)*h * 2
			];
			let rect = SVG.rect(-0.5*unit, -0.5*unit, unit, unit);
			rect.addClass("box");
			let tx = origin[0] + trans[0];
			let ty = origin[1] + trans[1];
			let translate = "translate(" + tx + "," + ty + ")";
			let rotate = "rotate(" + parseInt(angle) + ")";
			rect.setAttribute("transform", translate + " " + rotate);
			nees.appendChild(rect);
		}
	}
}
nees.draw();

nees.onMouseDown = function(mouse){
	nees.draw();
}

</script>