/* SVG (c) Robby Kraft, MIT License */(function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):(a=a||self,a.SVG=b())})(this,function(){'use strict';var j=Math.pow,k=Math.sin,l=Math.cos,m=Math.floor;function b(a){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},b(a)}function e(a){return f(a)||g(a)||h()}function f(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}}function g(a){if(Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a))return Array.from(a)}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(a){for(var c=arguments.length,d=Array(1<c?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=d.filter(function(b){return null!=b}).filter(function(a){return a instanceof x}).shift();null!=f&&b(f.appendChild)===p["function"]&&f.appendChild(a)}var n={log:function(){}},p={};["number","object","transform","class","style","function","string","undefined","boolean","path","svg","id"].forEach(function(a){return p[a]=a});var q=("undefined"==typeof window?"undefined":b(window))!==p.undefined&&b(window.document)!==p.undefined,r=("undefined"==typeof process?"undefined":b(process))!==p.undefined&&null!=process.versions&&null!=process.versions.node,s=("undefined"==typeof self?"undefined":b(self))===p.object&&self.constructor&&"DedicatedWorkerGlobalScope"===self.constructor.name,t=function(){var a={};if(r){var b=require("xmldom"),c=b.DOMParser,d=b.XMLSerializer;a.DOMParser=c,a.XMLSerializer=d,a.document=new c().parseFromString("<!DOCTYPE html><title> </title>","text/html")}else q&&(a=window);return a}(),u="http://www.w3.org/2000/svg",c=function(a){return null!=a&&b(a[Symbol.iterator])===p["function"]},v=function d(){for(var f=arguments.length,g=Array(f),h=0;h<f;h++)g[h]=arguments[h];switch(g.length){case void 0:case 0:return g;case 1:return c(g[0])&&b(g[0])!==p.string?d.apply(void 0,e(g[0])):[g[0]];default:return Array.from(g).map(function(b){return c(b)?e(d(b)):b}).reduce(function(c,a){return c.concat(a)},[]);}},w=function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];return c.filter(function(c){return b(c)===p.number}).concat(c.filter(function(c){return b(c)===p.object}).map(function(a){return b(a.x)===p.number?[a.x,a.y]:b(a[0])===p.number?[a[0],a[1]]:void 0}).filter(function(b){return void 0!==b}).reduce(function(c,a){return c.concat(a)},[]))},x=new t.DOMParser().parseFromString("<div />","text/xml").documentElement.constructor,y={presentation:["color","color-interpolation","cursor","direction","display","fill","fill-opacity","fill-rule","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","opacity","overflow","paint-order","pointer-events","preserveAspectRatio","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tabindex","transform-origin","user-select","vector-effect","visibility"],animation:["accumulate","additive","attributeName","begin","by","calcMode","dur","end","from","keyPoints","keySplines","keyTimes","max","min","repeatCount","repeatDur","restart","to","values"],effects:["azimuth","baseFrequency","bias","color-interpolation-filters","diffuseConstant","divisor","edgeMode","elevation","exponent","filter","filterRes","filterUnits","flood-color","flood-opacity","in","in2","intercept","k1","k2","k3","k4","kernelMatrix","lighting-color","limitingConeAngle","mode","numOctaves","operator","order","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","primitiveUnits","radius","result","seed","specularConstant","specularExponent","stdDeviation","stitchTiles","surfaceScale","targetX","targetY","type","xChannelSelector","yChannelSelector"],text:["x","y","dx","dy","alignment-baseline","baseline-shift","dominant-baseline","lengthAdjust","method","overline-position","overline-thickness","rotate","spacing","startOffset","strikethrough-position","strikethrough-thickness","text-anchor","text-decoration","text-rendering","textLength","underline-position","underline-thickness","word-spacing","writing-mode"],mask:["id"],symbol:["id"],clipPath:["id","clip-rule"],marker:["id","refX","refY","markerHeight","markerUnits","markerWidth"],pattern:["patternContentUnits","patternTransform","patternUnits"],gradient:["gradientTransform","gradientUnits","spreadMethod"],linearGradient:["x1","x2","y1","y2"],radialGradient:["cx","cy","r","fr","fx","fy"],svg:["viewBox"],line:["x1","y1","x2","y2"],rect:["x","y","width","height"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],polygon:["points"],polyline:["points"],path:["d"]},z=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)},A=function(a,b,c,e,f){null==f&&(f=0);var g=c/1-c,d=a-g-f,h=b-g-f,i=c+2*g+2*f,j=e+2*g+2*f;return[d,h,i,j].join(" ")},B=function(){var a=w.apply(void 0,e(v.apply(void 0,arguments)));return 2===a.length&&a.unshift(0,0),4===a.length?A.apply(void 0,e(a)):void 0},C={svg:{version:"1.1",xmlns:u},style:{type:"text/css"}},D={text:function(e,f,a,g,c){var d=[f,a,g,c].filter(function(c){return b(c)===p.string}).shift();d&&(e.innerHTML=d)},svg:i},E=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return Array.from(Array(m(b.length/2))).map(function(a,c){return"".concat(b[2*c+0],",").concat(b[2*c+1])}).join(" ")},F=function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];return c.filter(function(c){return b(c)===p.string||c instanceof String}).shift()||z()},G={svg:function(){return[B.apply(void 0,arguments)].filter(function(b){return void 0!==b})},text:function(){return w.apply(void 0,e(v.apply(void 0,arguments))).slice(0,2)},line:function(){return w.apply(void 0,e(v.apply(void 0,arguments)))},polyline:function(){return[E.apply(void 0,e(w.apply(void 0,e(v.apply(void 0,arguments)))))]},polygon:function(){return[E.apply(void 0,e(w.apply(void 0,e(v.apply(void 0,arguments)))))]},mask:function(){return[F.apply(void 0,arguments)]},clipPath:function(){return[F.apply(void 0,arguments)]},symbol:function(){return[F.apply(void 0,arguments)]},marker:function(){return[F.apply(void 0,arguments)]}},H=function(){for(var b=arguments.length,c=Array(b),a=0;a<b;a++)c[a]=arguments[a];return c},I=function(a,c){var d=c.nodeName;b(C[d])===p.object&&null!==C[d]&&Object.keys(C[d]).forEach(function(a){return c.setAttribute(a,C[d][a])});for(var e=arguments.length,f=Array(2<e?e-2:0),g=2;g<e;g++)f[g-2]=arguments[g];void 0!==D[a]&&D[a].apply(D,[c].concat(f));var h=void 0===y[a]?d:a,j=y[h];if(void 0===j)return c;var k=G[h]||H;return k.apply(void 0,f).forEach(function(a,b){null!=j[b]&&c.setAttribute(j[b],a)}),c};I.prepareCustomNodes=function(a){Object.keys(a).filter(function(b){return void 0!==a[b].attributes}).forEach(function(b){y[b]=a[b].attributes}),Object.keys(a).filter(function(b){return void 0!==a[b].arguments}).forEach(function(b){G[b]=a[b].arguments}),Object.keys(a).filter(function(b){return void 0!==a[b].init}).forEach(function(b){D[b]=a[b].init})};var J=function(b,a){return[l(b)*a,k(b)*a]},K=function(a,b,c,e,f){var g=Math.atan2,h=!!(5<arguments.length&&void 0!==arguments[5])&&arguments[5];if(null==f)return"";var i=J(e,c),j=J(f,c),k=[j[0]-i[0],j[1]-i[1]],l=i[0]*j[1]-i[1]*j[0],m=i[0]*j[0]+i[1]*j[1],n=0<g(l,m)?0:1,p=h?"M ".concat(a,",").concat(b," l ").concat(i[0],",").concat(i[1]," "):"M ".concat(a+i[0],",").concat(b+i[1]," ");return p+=["a ",c,c,0,n,1,k[0],k[1]].join(" "),h&&(p+=" Z"),p},L=function(f,a,b,c,d){return[K(f,a,b,c,d,!1)]},M=function(f,a,b,c,d){return[K(f,a,b,c,d,!0)]},N=128,O=function(a,b,c,d){return Array.from(Array(N+1)).map(function(a,b){return 2*((b-N)/N)+1}).map(function(e){return[a+.5*((e+1)*c),b+j(e,2)*d]})},P=function(b,c,a,d){var e=Math.PI,f=.5*(2*e/d),g=l(f)*a;return Array.from(Array(d)).map(function(h,j){var i=-2*e*j/d+f,a=b+g*k(i),m=c+g*l(i);return[a,m]})},Q=function(){var a=Math.sqrt,c=v.apply(void 0,arguments),d=[];if(b(c[0])===p.number&&(d=c),b(c[0])===p.object&&(b(c[0].x)===p.number&&(d=c.map(function(a){return[a[0],a[1]]}).reduce(function(c,a){return c.concat(a)},[])),b(c[0][0])===p.number&&(d=c.reduce(function(c,a){return c.concat(a)},[]))),d.length||null==shape.endpoints||(d=shape.endpoints),!d.length)return"";shape.endpoints=d;var e=shape.options,f=[d[0],d[1]],g=[d[2],d[3]],h=[g[0]-f[0],g[1]-f[1]],i=[f[0]+h[0]/2,f[1]+h[1]/2],k=a(j(h[0],2)+j(h[1],2)),l=(e.tail.visible?2.5*((1+e.tail.padding)*e.tail.height):0)+(e.head.visible?2.5*((1+e.head.padding)*e.head.height):0);if(k<l){var m=0===k?[l,0]:[h[0]/k*l,h[1]/k*l];f=[i[0]-.5*m[0],i[1]-.5*m[1]],g=[i[0]+.5*m[0],i[1]+.5*m[1]],h=[g[0]-f[0],g[1]-f[1]]}var n=[h[1],-h[0]],q=[i[0]+n[0]*e.curve,i[1]+n[1]*e.curve],r=[q[0]-f[0],q[1]-f[1]],s=[q[0]-g[0],q[1]-g[1]],t=a(j(r[0],2)+j(r[1],2)),u=a(j(s[0],2)+j(s[1],2)),w=0===t?r:[r[0]/t,r[1]/t],x=0===t?s:[s[0]/u,s[1]/u],y=[-w[0],-w[1]],z=[-x[0],-x[1]],A=[y[1],-y[0]],B=[z[1],-z[0]],C=[f[0]+w[0]*e.tail.height*((e.tail.visible?1:0)+e.tail.padding),f[1]+w[1]*e.tail.height*((e.tail.visible?1:0)+e.tail.padding)],D=[g[0]+x[0]*e.head.height*((e.head.visible?1:0)+e.head.padding),g[1]+x[1]*e.head.height*((e.head.visible?1:0)+e.head.padding)];h=[D[0]-C[0],D[1]-C[1]],n=[h[1],-h[0]],i=[C[0]+h[0]/2,C[1]+h[1]/2],q=[i[0]+n[0]*e.curve,i[1]+n[1]*e.curve];var E=[C[0]+(q[0]-C[0])*e.pinch,C[1]+(q[1]-C[1])*e.pinch],F=[D[0]+(q[0]-D[0])*e.pinch,D[1]+(q[1]-D[1])*e.pinch],G=[[C[0]+A[0]*-e.tail.width,C[1]+A[1]*-e.tail.width],[C[0]+A[0]*e.tail.width,C[1]+A[1]*e.tail.width],[C[0]+y[0]*e.tail.height,C[1]+y[1]*e.tail.height]],H=[[D[0]+B[0]*-e.head.width,D[1]+B[1]*-e.head.width],[D[0]+B[0]*e.head.width,D[1]+B[1]*e.head.width],[D[0]+z[0]*e.head.height,D[1]+z[1]*e.head.height]];return["M".concat(C[0],",").concat(C[1],"C").concat(E[0],",").concat(E[1],",").concat(F[0],",").concat(F[1],",").concat(D[0],",").concat(D[1])]},R=function(a){for(var b=Array.from(a.childNodes),c=b.filter(function(a){return"path"===a.nodeName}).shift(),d=["svg-arrow-head","svg-arrow-tail"].map(function(a){return b.filter(function(b){return b.getAttribute("class")===a}).shift()}),e=arguments.length,f=Array(1<e?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];return c.setAttribute("d",buildArrow.apply(void 0,f)),o.head.visible?(d[0].removeAttribute("display"),setPoints(d[0],headPolyPts)):d[0].setAttribute("display","none"),o.tail.visible?(d[1].removeAttribute("display"),setPoints(d[1],tailPolyPts)):d[1].setAttribute("display","none"),a},S=function(a,c){return b(c)===p.object?(Object.assign(a.options.head,c),void 0===c.visible&&(a.options.head.visible=!0)):b(c)===p.boolean?a.options.head.visible=c:null==c&&(a.options.head.visible=!0),R(a),a},T=function(a,c){return b(c)===p.object?(Object.assign(a.options.tail,c),void 0===c.visible&&(a.options.tail.visible=!0),a.options.tail.visible=!0):b(c)===p.boolean?a.options.tail.visible=c:null==c&&(a.options.tail.visible=!0),R(a),a},U=/*#__PURE__*/Object.freeze({__proto__:null,setArrowPoints:R,head:S,tail:T,curve:function(a,b){return a.options.curve=b,R(a),a},pinch:function(a,b){return a.options.pinch=b,R(a),a}}),V=function(c,a){return[c[0]+a[0],c[1]+a[1]]},W=function(c,a){return[c[0]-a[0],c[1]-a[1]]},X=function(b,a){return[b[0]*a,b[1]*a]},Y=function(){var a=w.apply(void 0,e(v.apply(void 0,arguments))),b=a.slice(0,4);if(!b.length)return[""];var c=a[4]||0,d=a[5]||.5,f=[b[0],b[1]],g=[b[2],b[3]],h=W(g,f),i=V(f,X(h,.5)),j=[h[1],-h[0]],k=V(i,X(j,c)),l=V(f,X(W(k,f),d)),m=V(g,X(W(k,g),d));return["M".concat(f[0],",").concat(f[1],"C").concat(l[0],",").concat(l[1]," ").concat(m[0],",").concat(m[1]," ").concat(g[0],",").concat(g[1])]},Z=function(a){var b=a.getAttribute("d");return null==b||""===b?[]:[b.slice(b.indexOf("M")+1,b.indexOf("C")).split(","),b.split(" ").pop().split(",")].map(function(a){return a.map(function(a){return parseFloat(a)})})},$=/*#__PURE__*/Object.freeze({__proto__:null,arc:function(a,b){return a.setAttribute("d",Y.apply(void 0,e(Z(a)).concat([b]))),a}}),_={};[{name:"arc",nodeName:"path",attributes:["d"],arguments:L,methods:{setArc:function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return a.setAttribute("d",L.apply(void 0,c))}}},{name:"wedge",nodeName:"path",arguments:M,attributes:["d"],methods:{setArc:function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return a.setAttribute("d",M.apply(void 0,c))}}},{name:"parabola",nodeName:"polyline",attributes:["points"],arguments:function(a,b,c,d){return[O(a,b,c,d).map(function(b){return"".concat(b[0],",").concat(b[1])}).join(" ")]}},{name:"regularPolygon",nodeName:"polygon",attributes:["points"],arguments:function(a,b,c,d){return[P(a,b,c,d).map(function(b){return"".concat(b[0],",").concat(b[1])}).join(" ")]}},{name:"roundRect",nodeName:"path",attributes:["d"],arguments:function(a,b,c,d){var e=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0;e>c/2&&(e=c/2),e>d/2&&(e=d/2);var f=c-2*e,g=d-2*e,h="A".concat(e," ").concat(e," 0 0 1");return["M".concat(a+(c-f)/2,",").concat(b),"h".concat(f),h,"".concat(a+c,",").concat(b+(d-g)/2),"v".concat(g),h,"".concat(a+c-e,",").concat(b+d),"h".concat(-f),h,"".concat(a,",").concat(b+d-e),"v".concat(-g),h,"".concat(a+e,",").concat(b)].join(" ")}},{name:"curve",nodeName:"path",attributes:["d"],arguments:Y,methods:$},{name:"arrow",nodeName:"g",attributes:["d"],arguments:Q,methods:U,init:function(){console.log("running arrow init")}}].forEach(function(a){_[a.name]=a,delete _[a.name].name});
var aa={s:["svg"],d:["defs"],h:["desc","filter","metadata","style","script","title","view"],c:["cdata"],g:["g"],v:["circle","ellipse","line","path","polygon","polyline","rect"],t:["text"],i:["marker","symbol","clipPath","mask"],p:["linearGradient","radialGradient","pattern"],cT:["textPath","tspan"],cG:["stop"],cF:["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]},ba=Object.keys(_),ca=[aa.h,aa.p,aa.i],da=[aa.g,aa.v,aa.t,ba],ea={svg:[aa.s,aa.d].concat(ca).concat(da),g:da,text:[aa.cT],linearGradient:[aa.cG],radialGradient:[aa.cG],defs:ca,filter:[aa.cF],marker:da,symbol:da,clipPath:da,mask:da},fa={};Object.keys(ea).forEach(function(a){fa[a]=ea[a].reduce(function(c,a){return c.concat(a)},[])}),n.log(fa);var ga={},ha=[y.presentation],ia=ha.concat([y.text]),ja=[y.effects],ka=[y.gradient];aa.cF.forEach(function(a){ga[a]=ja}),aa.cG.forEach(function(a){ga[a]=ka}),aa.cT.forEach(function(a){ga[a]=ia}),aa.v.forEach(function(a){ga[a]=ha.concat(void 0===y[a]?[]:[y[a]])}),ga.svg=ha,ga.defs=ha,ga.filter=ja,ga.marker=[y.marker],ga.clipPath=[y.clipPath],ga.pattern=[y.pattern],ga.g=ha,ga.text=ia,ga.linearGradient=ka.concat([y.linearGradient]),ga.radialGradient=ka.concat([y.radialGradient]),Object.keys(ga).forEach(function(a){ga[a]=ga[a].reduce(function(c,a){return c.concat(a)},[])}),n.log(ga);var la={toCamel:function(a){return a.replace(/([-_][a-z])/ig,function(a){return a.toUpperCase().replace("-","").replace("_","")})},toKebab:function(a){return a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z])(?=[a-z])/g,"$1-$2").toLowerCase()},capitalized:function(a){return a.charAt(0).toUpperCase()+a.slice(1)}},ma=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return Array.from(Array(m(b.length/2))).map(function(a,c){return"".concat(b[2*c],",").concat(b[2*c+1])}).join(" ")},na={setPoints:{attr:y.polyline.slice(0,1),f:function(){return ma.apply(void 0,e(w.apply(void 0,e(v.apply(void 0,arguments)))))}}},oa={line:{setPoints:{attrs:y.line,f:function(f,a,b,c){return w.apply(void 0,e(v(f,a,b,c))).slice(0,4)}}},polyline:na,polygon:na,circle:{setRadius:{attr:"r",f:function(a){return a}},radius:{attr:"r",f:function(a){return a}},setCenter:{attrs:y.circle.slice(0,2),f:function(c,a){return w.apply(void 0,e(v(c,a))).slice(0,2)}}}},pa={};Object.keys(oa).forEach(function(a){pa[a]={},Object.keys(oa[a]).filter(function(b){return void 0!==oa[a][b].attr}).forEach(function(b){pa[a][b]=function(c){for(var d,e=arguments.length,f=Array(1<e?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];return c.setAttribute(oa[a][b].attr,(d=oa[a][b]).f.apply(d,f))}}),Object.keys(oa[a]).filter(function(b){return void 0!==oa[a][b].attrs}).forEach(function(b){pa[a][b]=function(c){for(var d,e=arguments.length,f=Array(1<e?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];return(d=oa[a][b]).f.apply(d,f).forEach(function(d,e){return c.setAttribute(oa[a][b].attrs[e],d)})}})});var qa=function(a){var b=a.getAttribute(p.transform);return null==b||""===b?void 0:b},ra={clearTransform:function(a){return a.removeAttribute(p.transform),a}};["translate","rotate","scale","matrix"].forEach(function(a){ra[a]=function(b){for(var c=arguments.length,d=Array(1<c?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return b.setAttribute(p.transform,[qa(b),"".concat(a,"(").concat(d.join(" "),")")].filter(function(b){return void 0!==b}).join(" "))}});var sa=function(a){if(null==a)return"";if(b(a)===p.string)return"url"===a.slice(0,3)?a:"url(#".concat(a,")");if(null!=a.getAttribute){var c=a.getAttribute(p.id);return"url(#".concat(c,")")}return""},ta={};["clip-path","mask","symbol","marker-end","marker-mid","marker-start"].forEach(function(a){ta[la.toCamel(a)]=function(b,c){return b.setAttribute(a,sa(c))}});var ua={removeChildren:function(a){for(;a.lastChild;)a.removeChild(a.lastChild)},appendTo:function(a,b){null!=b&&b.appendChild(a)}},va=function(a){return new t.DOMParser().parseFromString("<root></root>","text/xml").createCDATASection("".concat(a))},wa=function(a){var b=a.getAttribute("viewBox");return null==b?void 0:b.split(" ").map(function(a){return parseFloat(a)})},xa=function(a){var c=wa(a);if(void 0!==c)return c;if(b(a.getBoundingClientRect)===p["function"]){var d=a.getBoundingClientRect();return[d.x,d.y,d.width,d.height]}return[]},ya="svg-background-rectangle",za=function(a){var b=a.getElementsByTagName(p.style);return 0===b.length?void 0:b[0]},Aa=function(a,b){var c=za(a);return null==c&&(c=this.Constructor(p.style),a.insertBefore(c,a.firstChild)),c.textContent="",c.appendChild(va(b)),c},Ba=function(a){Array.from(a.attributes).filter(function(b){return"xmlns"!==b}).forEach(function(b){return a.removeAttribute(b.name)}),ua.removeChildren(a)},Ca=function(a,b){null==b||(Ba(a),Array.from(b.childNodes).forEach(function(c){b.removeChild(c),a.appendChild(c)}),Array.from(b.attributes).forEach(function(b){return a.setAttribute(b.name,b.value)}))},Da=function(a,b){return null!=b&&b(a),a},Ea=function(a,c){if(b(a)===p.string||a instanceof String){var d=new t.DOMParser().parseFromString(a,"text/xml"),e=d.getElementsByTagName("parsererror");return 0===e.length?Da(d.documentElement,c):e[0]}return null==a.childNodes?void 0:Da(a,c)},Fa={m:"move",l:"line",v:"vertical",h:"horizontal",a:"ellipse",c:"curve",s:"smoothCurve",q:"quadCurve",t:"smoothQuadCurve",z:"close"};Object.keys(Fa).forEach(function(a){var b=Fa[a];Fa[a.toUpperCase()]=b.charAt(0).toUpperCase()+b.slice(1)});var Ga=function(a){var b=a.getAttribute("d");return null==b?"":b},Ha=function(a,b){for(var c=arguments.length,d=Array(2<c?c-2:0),e=2;e<c;e++)d[e-2]=arguments[e];var f=v.apply(void 0,d).join(" ");return a.setAttribute("d","".concat(Ga(a)).concat(b).concat(f)),a},Ia={};Ia.clear=function(a){return a.removeAttribute("d"),a},Object.keys(Fa).forEach(function(a){Ia[Fa[a]]=function(b){for(var c=arguments.length,d=Array(1<c?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return Ha.apply(void 0,[b,a].concat(d))}});var Ja=function(a,b){void 0===a[b]&&(a[b]={})},Ka={svg:{clear:Ba,size:function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];var e=B.apply(void 0,c);return e&&a.setAttribute("viewBox",e),a},background:function(a,b){var c=Array.from(a.childNodes).filter(function(a){return a.getAttribute(p["class"])===ya}).shift();return null==c&&(c=this.Constructor.apply(this,["rect"].concat(e(xa(a)))),c.setAttribute(p["class"],ya),a.insertBefore(c,a.firstChild)),c.setAttribute("fill",b),c},getWidth:function(a){return xa(a)[2]},getHeight:function(a){return xa(a)[3]},stylesheet:function(a){return Aa.call(this,a)},save:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return"svg"===b.output?a:new t.XMLSerializer().serializeToString(a)},load:function(a,b,c){return Ca(a,Ea(b,c))}},path:Ia,style:{setTextContent:function(a,b){return a.textContent="",a.appendChild(va(b)),a}}},La=function(a,b){Ja(Ka,b),Object.keys(a).forEach(function(c){Ka[b][c]=a[c]})},Ma=function(a,b){return b.forEach(function(b){return b.forEach(function(b){return La(a,b)})})},Na=[aa.t,aa.v,aa.g],Oa=Na.concat([aa.s,aa.p,aa.i,aa.h,aa.d]);Ma(ra,Na.concat([aa.s])),Ma(ta,Na),Ma(ua,Oa),Ma({setAttributes:function(a,b){return Object.keys(b).forEach(function(c){return a.setAttribute(la.toKebab(c),b[c])})}},Oa),Object.keys(pa).forEach(function(a){return La(pa[a],a)});var Pa={};Object.keys(Ka).forEach(function(a){Ja(Pa,a),Object.keys(Ka[a]).filter(function(b){return void 0===Pa[a][b]}).forEach(function(b){Pa[a][b]=function(c){for(var d,e=arguments.length,f=Array(1<e?e-1:0),g=1;g<e;g++)f[g-1]=arguments[g];return(d=Ka[a][b]).call.apply(d,[Pa,c].concat(f))||c}})}),n.log(Pa);var Qa=function(a,b){void 0===a[b]&&(a[b]={})},Ra={};Object.keys(ga).forEach(function(a){Qa(Ra,a),ga[a].forEach(function(b){Ra[a][la.toCamel(b)]=function(a){for(var c=arguments.length,d=Array(1<c?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];return a.setAttribute.apply(a,[b].concat(d)),a}})}),Object.keys(fa).forEach(function(a){Qa(Ra,a),fa[a].forEach(function(b){Ra[a][b]=function(a){for(var c=arguments.length,d=Array(1<c?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];var f=Sa.Constructor.apply(Sa,[b].concat(d));return a.appendChild(f),f}})}),Object.keys(Pa).forEach(function(a){Qa(Ra,a),Object.assign(Ra[a],Pa[a])});var Sa=function a(c,d){return Pa.Constructor=a.Constructor,b(Ra[c])===p.object&&null!==Ra[c]&&Object.keys(Ra[c]).filter(function(a){return null==d[a]}).forEach(function(a){Object.defineProperty(d,a,{value:function(){for(var b,e=arguments.length,f=Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=Ra[c])[a].apply(b,[d].concat(f))}})}),d};n.log(Ra),Sa.prepareCustomNodes=function(a){return Object.keys(a).forEach(function(b){Qa(Ra,b),Object.assign(Ra[b],Ra[a[b].nodeName],a[b].methods)})};var Ta={};Object.keys(aa).forEach(function(a){return aa[a].forEach(function(a){Ta[a]=a})}),Object.keys(_).forEach(function(a){Ta[a]=_[a].nodeName}),I.prepareCustomNodes(_),Sa.prepareCustomNodes(_),n.log(Ta);var Ua=function(a){for(var b=arguments.length,c=Array(1<b?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];return Sa(a,I.apply(void 0,[a,t.document.createElementNS(u,Ta[a])].concat(c)))};Sa.Constructor=Ua;var Va={};Object.keys(aa).forEach(function(a){return aa[a].forEach(function(a){Va[a]=function(){for(var b=arguments.length,c=Array(b),d=0;d<b;d++)c[d]=arguments[d];return Ua.apply(void 0,[a].concat(c))}})}),n.log(Va);var Wa=function(a,b,c){var d=a.createSVGPoint();d.x=b,d.y=c;var e=d.matrixTransform(a.getScreenCTM().inverse());return[e.x,e.y]},Xa={move:["mousemove","touchmove"],press:["mousedown","touchstart"],release:["mouseup","touchend"]},Ya=Object.values(Xa).reduce(function(c,a){return c.concat(a)},[]),Za=function(a,b){return Ya.forEach(function(c){b[c].forEach(function(b){return a.removeEventListener(c,b)}),b[c]=[]})},$a=function(a,b,c){return Object.defineProperty(a,b,{get:function(){return c},enumerable:!0})},_a=function(a){var b=[],c=[];Object.keys(Xa).forEach(function(a){Xa[a].forEach(function(a){c[a]=[]})});var d=function(b){Xa[b].forEach(function(b){c[b].forEach(function(c){return a.removeEventListener(b,c)})})},f={press:function(){},release:function(){},move:function(a,c){0<a.buttons&&void 0===b[0]?b=c:0===a.buttons&&void 0!==b[0]&&(b=[]),["startX","startY"].forEach(function(c,d){return $a(a,c,b[d])})}};Object.keys(Xa).forEach(function(b){var e="on"+la.capitalized(b);Object.defineProperty(a,e,{set:function(g){return null==g?d(b):Xa[b].forEach(function(d){var e=function(c){var d=null==c.touches?c:c.touches[0],e=Wa(a,d.clientX,d.clientY);["x","y"].forEach(function(a,b){return $a(c,a,e[b])}),f[b](c,e),g(c)};c[d].push(e),a.addEventListener(d,e)})},enumerable:!0})}),Object.defineProperty(a,"off",{value:function(){return Za(a,c)}})},ab=function(a){var b,c={},d=0,e=function(){Object.keys(c).forEach(function(a){return delete c[a]}),b=void 0,d=0};Object.defineProperty(a,"play",{set:function(a){if(e(),null!=a){var f=z(),g=function(g){b||(b=g);var e=.001*(g-b);a({time:e,frame:d}),d+=1,c[f]&&window.requestAnimationFrame(c[f])};c[f]=g,window.requestAnimationFrame(c[f])}},enumerable:!0}),Object.defineProperty(a,"stop",{value:e,enumerable:!0})},bb=function(c,a){return[0,1].map(function(b){return c[b]-a[b]}).map(function(a){return j(a,2)}).reduce(function(c,a){return c+a},0)},cb=function(a){var c,d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=[0,0],f=!1,g=function(){null!=c&&(null==c.parentNode&&a.appendChild(c),c.setAttribute("cx",e[0]),c.setAttribute("cy",e[1]))},h=new Proxy(e,{set:function(a,b,c){return a[b]=c,g(),!0}}),i=function(){for(var a=arguments.length,c=Array(a),d=0;d<a;d++)c[d]=arguments[d];if(0!==c.length){var f=b(c[0]);"number"===f&&(e[0]=c[0],e[1]=c[1],g()),"object"===f&&("number"==typeof c[0][0]?(e[0]=c[0][0],e[1]=c[0][1],g()):"number"==typeof c[0].x&&(e[0]=c[0].x,e[1]=c[0].y,g())),"function"==typeof e.delegate&&e.delegate.apply(e.pointsContainer,[h,e.pointsContainer])}};i(d.position);var j=function(a){return a},k=function(a){f&&i(j(a))};return e.delegate=void 0,e.setPosition=i,e.onMouseMove=k,e.onMouseUp=function(){f=!1},e.distance=function(a){return bb(a,e)},Object.defineProperty(e,"x",{get:function(){return e[0]},set:function(a){e[0]=a}}),Object.defineProperty(e,"y",{get:function(){return e[1]},set:function(a){e[1]=a}}),Object.defineProperty(e,"svg",{get:function(){return c},set:function(a){c=a}}),Object.defineProperty(e,"positionDidUpdate",{set:function(a){j=a}}),Object.defineProperty(e,"selected",{set:function(a){f=a}}),Object.defineProperty(e,"remove",{value:function(){null!=c&&c.parentNode.removeChild(c)}}),h},db=function(a,c,d){var e,f,g=Array.from(Array(c)).map(function(){return cb(a,d)});g.forEach(function(a,c){"object"===b(d)&&"function"==typeof d.position&&a.setPosition(d.position(c))});var h=function(a){"function"==typeof f&&f.call(g,g,a)};g.forEach(function(a){a.delegate=h,a.pointsContainer=g});var i=function(a){0<g.length&&(e=g.map(function(b,c){return{i:c,d:bb(b,[a.x,a.y])}}).sort(function(c,a){return c.d-a.d}).shift().i,g[e].selected=!0)};return a.onPress=i,a.onMove=function(a){g.forEach(function(b){return b.onMouseMove(a)})},a.onRelease=function(){g.forEach(function(a){return a.onMouseUp()}),e=void 0},Object.defineProperty(g,"selectedIndex",{get:function(){return e}}),Object.defineProperty(g,"selected",{get:function(){return g[e]}}),Object.defineProperty(g,"add",{value:function(b){g.push(cb(a,b))}}),g.removeAll=function(){for(;0<g.length;)g.pop().remove()},g.onChange=function(a,b){return"function"==typeof a&&(f=a,!0===b&&a.call(g,g,void 0)),g},g.position=function(a){return"function"==typeof a&&g.forEach(function(b,c){return b.setPosition(a.call(g,c))}),g},g.svg=function(a){return"function"==typeof a&&g.forEach(function(b,c){b.svg=a.call(g,c)}),g},g.parent=function(a){return null!=a&&null!=a.appendChild&&g.forEach(function(b){a.appendChild(b.svg)}),g},g},eb=function(a){for(var c=arguments.length,d=Array(1<c?c-1:0),e=1;e<c;e++)d[e-1]=arguments[e];d.filter(function(a){return b(a)===p["function"]}).forEach(function(b){return b.call(a,a)})},fb=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];var d=Ua.apply(void 0,[p.svg].concat(b));return _a(d),ab(d),d.controls=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return db.call.apply(db,[d,d].concat(b))},"loading"===t.document.readyState?t.document.addEventListener("DOMContentLoaded",function(){return eb.apply(void 0,[d].concat(b))}):eb.apply(void 0,[d].concat(b)),d};return Object.assign(fb,Va),fb.NS=u,fb});
