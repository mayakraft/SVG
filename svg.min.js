!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).SVG=e()}(this,(function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var n=function(){},r={};["number","object","transform","class","style","function","string","undefined","boolean","path","svg","id"].forEach((function(t){return r[t]=t}));var i=("undefined"==typeof window?"undefined":t(window))!==r.undefined&&t(window.document)!==r.undefined,a=("undefined"==typeof process?"undefined":t(process))!==r.undefined&&null!=process.versions&&null!=process.versions.node,c=(("undefined"==typeof self?"undefined":t(self))===r.object&&self.constructor&&self.constructor.name,function(){var t={};if(a){var e=require("xmldom"),n=e.DOMParser,r=e.XMLSerializer;t.DOMParser=n,t.XMLSerializer=r,t.document=(new n).parseFromString("<!DOCTYPE html><title>.</title>","text/html")}else i&&(t=window);return t}()),u="http://www.w3.org/2000/svg",s={s:["svg"],d:["defs"],h:["desc","filter","metadata","style","script","title","view"],c:["cdata"],g:["g"],v:["circle","ellipse","line","path","polygon","polyline","rect"],t:["text"],i:["marker","symbol","clipPath","mask"],p:["linearGradient","radialGradient","pattern"],cT:["textPath","tspan"],cG:["stop"],cF:["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]},l=function(t,e){return[Math.cos(t)*e,Math.sin(t)*e]},f=function(t,e,n,r,o){var i=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(null==o)return"";var a=l(r,n),c=l(o,n),u=[c[0]-a[0],c[1]-a[1]],s=a[0]*c[1]-a[1]*c[0],f=a[0]*c[0]+a[1]*c[1],d=Math.atan2(s,f)>0?0:1,p=i?"M ".concat(t,",").concat(e," l ").concat(a[0],",").concat(a[1]," "):"M ".concat(t+a[0],",").concat(e+a[1]," ");return p+=["a ",n,n,0,d,1,u[0],u[1]].join(" "),i&&(p+=" Z"),p},d=function(t,e,n,r,o){return[f(t,e,n,r,o,!1)]},p={arc:{nodeName:"path",attributes:["d"],args:d,methods:{setArc:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.setAttribute("d",d.apply(void 0,n))}}}},h=function(t,e,n,r,o){return[f(t,e,n,r,o,!0)]},v={wedge:{nodeName:"path",args:h,attributes:["d"],methods:{setArc:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.setAttribute("d",h.apply(void 0,n))}}}},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;return Array.from(Array(129)).map((function(t,e){return(e-128)/128*2+1})).map((function(o){return[t+(o+1)*n*.5,e+Math.pow(o,2)*r]}))},m={parabola:{nodeName:"polyline",attributes:["points"],args:function(t,e,n,r){return[g(t,e,n,r).map((function(t){return"".concat(t[0],",").concat(t[1])})).join(" ")]}}},y=function(t,e,n,r){var o=[t,e];return Array.from(Array(r)).map((function(t,e){return 2*Math.PI*e/r})).map((function(t){return[Math.cos(t),Math.sin(t)]})).map((function(t){return o.map((function(e,r){return e+n*t[r]}))}))},b={regularPolygon:{nodeName:"polygon",attributes:["points"],args:function(t,e,n,r){return[y(t,e,n,r).map((function(t){return"".concat(t[0],",").concat(t[1])})).join(" ")]}}},A={roundRect:{nodeName:"path",attributes:["d"],args:function(t,e,n,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;o>n/2&&(o=n/2),o>r/2&&(o=r/2);var i=n-2*o,a=r-2*o,c="A".concat(o," ").concat(o," 0 0 1");return["M".concat(t+(n-i)/2,",").concat(e),"h".concat(i),c,"".concat(t+n,",").concat(e+(r-a)/2),"v".concat(a),c,"".concat(t+n-o,",").concat(e+r),"h".concat(-i),c,"".concat(t,",").concat(e+r-o),"v".concat(-a),c,"".concat(t+o,",").concat(e)].join(" ")}}},w=function(e){return null!=e&&t(e[Symbol.iterator])===r.function},x=function n(){for(var o=arguments.length,i=new Array(o),a=0;a<o;a++)i[a]=arguments[a];switch(i.length){case void 0:case 0:return i;case 1:return w(i[0])&&t(i[0])!==r.string?n.apply(void 0,e(i[0])):[i[0]];default:return Array.from(i).map((function(t){return w(t)?e(n(t)):t})).reduce((function(t,e){return t.concat(e)}),[])}},E=function(t){for(var e=Array.from(t.childNodes),n=e.filter((function(t){return"path"===t.nodeName})).shift(),r=["svg-arrow-head","svg-arrow-tail"].map((function(t){return e.filter((function(e){return e.getAttribute("class")===t})).shift()})),i=arguments.length,a=new Array(i>1?i-1:0),c=1;c<i;c++)a[c-1]=arguments[c];return n.setAttribute("d",buildArrow.apply(void 0,a)),o.head.visible?(r[0].removeAttribute("display"),setPoints(r[0],headPolyPts)):r[0].setAttribute("display","none"),o.tail.visible?(r[1].removeAttribute("display"),setPoints(r[1],tailPolyPts)):r[1].setAttribute("display","none"),t},C={arrow:{nodeName:"g",attributes:["d"],args:function(){var e=x.apply(void 0,arguments),n=[];if(t(e[0])===r.number&&(n=e),t(e[0])===r.object&&(t(e[0].x)===r.number&&(n=e.map((function(t){return[t[0],t[1]]})).reduce((function(t,e){return t.concat(e)}),[])),t(e[0][0])===r.number&&(n=e.reduce((function(t,e){return t.concat(e)}),[]))),n.length||null==shape.endpoints||(n=shape.endpoints),!n.length)return"";shape.endpoints=n;var o=shape.options,i=[n[0],n[1]],a=[n[2],n[3]],c=[a[0]-i[0],a[1]-i[1]],u=[i[0]+c[0]/2,i[1]+c[1]/2],s=Math.sqrt(Math.pow(c[0],2)+Math.pow(c[1],2)),l=(o.tail.visible?(1+o.tail.padding)*o.tail.height*2.5:0)+(o.head.visible?(1+o.head.padding)*o.head.height*2.5:0);if(s<l){var f=0===s?[l,0]:[c[0]/s*l,c[1]/s*l];i=[u[0]-.5*f[0],u[1]-.5*f[1]],c=[(a=[u[0]+.5*f[0],u[1]+.5*f[1]])[0]-i[0],a[1]-i[1]]}var d=[c[1],-c[0]],p=[u[0]+d[0]*o.curve,u[1]+d[1]*o.curve],h=[p[0]-i[0],p[1]-i[1]],v=[p[0]-a[0],p[1]-a[1]],g=Math.sqrt(Math.pow(h[0],2)+Math.pow(h[1],2)),m=Math.sqrt(Math.pow(v[0],2)+Math.pow(v[1],2)),y=0===g?h:[h[0]/g,h[1]/g],b=0===g?v:[v[0]/m,v[1]/m],A=[-y[0],-y[1]],w=[-b[0],-b[1]],E=[A[1],-A[0]],C=[w[1],-w[0]],j=[i[0]+y[0]*o.tail.height*((o.tail.visible?1:0)+o.tail.padding),i[1]+y[1]*o.tail.height*((o.tail.visible?1:0)+o.tail.padding)],k=[a[0]+b[0]*o.head.height*((o.head.visible?1:0)+o.head.padding),a[1]+b[1]*o.head.height*((o.head.visible?1:0)+o.head.padding)];d=[(c=[k[0]-j[0],k[1]-j[1]])[1],-c[0]],p=[(u=[j[0]+c[0]/2,j[1]+c[1]/2])[0]+d[0]*o.curve,u[1]+d[1]*o.curve];var O=[j[0]+(p[0]-j[0])*o.pinch,j[1]+(p[1]-j[1])*o.pinch],M=[k[0]+(p[0]-k[0])*o.pinch,k[1]+(p[1]-k[1])*o.pinch];j[0],E[0],o.tail.width,j[1],E[1],o.tail.width,j[0],E[0],o.tail.width,j[1],E[1],o.tail.width,j[0],A[0],o.tail.height,j[1],A[1],o.tail.height,k[0],C[0],o.head.width,k[1],C[1],o.head.width,k[0],C[0],o.head.width,k[1],C[1],o.head.width,k[0],w[0],o.head.height,k[1],w[1],o.head.height;return["M".concat(j[0],",").concat(j[1],"C").concat(O[0],",").concat(O[1],",").concat(M[0],",").concat(M[1],",").concat(k[0],",").concat(k[1])]},methods:{setArrowPoints:E,head:function(e,n){return t(n)===r.object?(Object.assign(e.options.head,n),void 0===n.visible&&(e.options.head.visible=!0)):t(n)===r.boolean?e.options.head.visible=n:null==n&&(e.options.head.visible=!0),E(e),e},tail:function(e,n){return t(n)===r.object?(Object.assign(e.options.tail,n),void 0===n.visible&&(e.options.tail.visible=!0),e.options.tail.visible=!0):t(n)===r.boolean?e.options.tail.visible=n:null==n&&(e.options.tail.visible=!0),E(e),e},curve:function(t,e){return t.options.curve=e,E(t),t},pinch:function(t,e){return t.options.pinch=e,E(t),t}},init:function(t){console.log("running arrow init")}}},j=function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return n.filter((function(e){return t(e)===r.number})).concat(n.filter((function(e){return t(e)===r.object})).map((function(e){return t(e.x)===r.number?[e.x,e.y]:t(e[0])===r.number?[e[0],e[1]]:void 0})).filter((function(t){return void 0!==t})).reduce((function(t,e){return t.concat(e)}),[]))},k=function(t,e){return[t[0]+e[0],t[1]+e[1]]},O=function(t,e){return[t[0]-e[0],t[1]-e[1]]},M=function(t,e){return[t[0]*e,t[1]*e]},P=function(){var t=j.apply(void 0,e(x.apply(void 0,arguments))),n=t.slice(0,4);if(!n.length)return[""];var r=t[4]||0,o=t[5]||.5,i=[n[0],n[1]],a=[n[2],n[3]],c=O(a,i),u=k(i,M(c,.5)),s=[c[1],-c[0]],l=k(u,M(s,r)),f=k(i,M(O(l,i),o)),d=k(a,M(O(l,a),o));return["M".concat(i[0],",").concat(i[1],"C").concat(f[0],",").concat(f[1]," ").concat(d[0],",").concat(d[1]," ").concat(a[0],",").concat(a[1])]},S={bend:function(t,n){return t.setAttribute("d",P.apply(void 0,e(function(t){var e=t.getAttribute("d");return null==e||""===e?[]:[e.slice(e.indexOf("M")+1,e.indexOf("C")).split(","),e.split(" ").pop().split(",")].map((function(t){return t.map((function(t){return parseFloat(t)}))}))}(t)).concat([n]))),t}},N={curve:{nodeName:"path",attributes:["d"],args:P,methods:S}},T={};Object.assign(T,p,v,m,b,A,C,N);var F=Object.keys(T),L=[s.h,s.p,s.i],z=[s.g,s.v,s.t,F],D={svg:[s.s,s.d].concat(L).concat(z),g:z,text:[s.cT],linearGradient:[s.cG],radialGradient:[s.cG],defs:L,filter:[s.cF],marker:z,symbol:z,clipPath:z,mask:z},B={};Object.keys(D).forEach((function(t){B[t]=D[t].reduce((function(t,e){return t.concat(e)}),[])})),n(B);var G=function(t){return t.replace(/([-_][a-z])/gi,(function(t){return t.toUpperCase().replace("-","").replace("_","")}))},U=function(t){return t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").replace(/([A-Z])([A-Z])(?=[a-z])/g,"$1-$2").toLowerCase()},q=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},R={svg:["viewBox"],line:["x1","y1","x2","y2"],rect:["x","y","width","height"],circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],polygon:["points"],polyline:["points"],path:["d"],text:["x","y"],mask:["id"],symbol:["id"],clipPath:["id","clip-rule"],marker:["id","markerHeight","markerUnits","markerWidth","orient","refX","refY"],linearGradient:["x1","x2","y1","y2"],radialGradient:["cx","cy","r","fr","fx","fy"],stop:["offset","stop-color","stop-opacity"],pattern:["patternContentUnits","patternTransform","patternUnits"]},X=function(t,e){return t.setAttribute(R.circle[2],e)},Y=function(t,n,r){return j.apply(void 0,e(x(n,r))).slice(0,2).forEach((function(e,n){return t.setAttribute(R.circle[n],e)}))},V={circle:{args:function(t,n,r){return j.apply(void 0,e(x(t,n,r))).slice(0,3)},methods:{radius:X,setRadius:X,center:Y,setCenter:Y,position:Y,setPosition:Y}}},Z=function(t,e,n){return[,,e,n].forEach((function(e,n){return t.setAttribute(R.ellipse[n],e)}))},I=function(t,n,r){return j.apply(void 0,e(x(n,r))).slice(0,2).forEach((function(e,n){return t.setAttribute(R.ellipse[n],e)}))},$={ellipse:{args:function(t,n,r,o){return j.apply(void 0,e(x(t,n,r,o))).slice(0,4)},methods:{radius:Z,setRadius:Z,center:I,setCenter:I,position:I,setPosition:I}}},H=function(t,n,r,o){return j.apply(void 0,e(x(t,n,r,o))).slice(0,4)},Q={line:{args:H,methods:{setPoints:function(t,e,n,r,o){return H(e,n,r,o).forEach((function(e,n){return t.setAttribute(R.line[n],e)}))}}}},W=/[MmLlSsQqLlHhVvCcSsQqTtAaZz]/g,_=/-?[0-9]*\.?\d+/g,J={m:"move",l:"line",v:"vertical",h:"horizontal",a:"ellipse",c:"curve",s:"smoothCurve",q:"quadCurve",t:"smoothQuadCurve",z:"close"};Object.keys(J).forEach((function(t){var e=J[t];J[t.toUpperCase()]=e.charAt(0).toUpperCase()+e.slice(1)}));var K=function(t){var e=t.getAttribute("d");return null==e?"":e},tt=function(t,e){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return t.setAttribute("d","".concat(K(t)).concat(e).concat(x.apply(void 0,r).join(" ")))},et=function(t){return t.removeAttribute("d")},nt={string:function(t,e){return t.setAttribute("d",e)},object:function(t,e){return e.forEach((function(e){return tt(t,e.command,e.values)}))}},rt={command:tt,clear:et,get:function(t){return function(t){for(var e,n=[];null!==(e=W.exec(t));)n.push(e);return n.map((function(e){return{command:t[e.index],index:e.index}})).reduceRight((function(e,n){var r=t.substring(n.index,e.length?e[e.length-1].index:t.length);return e.concat([{command:n.command,index:n.index,chunk:r.length>0?r.substr(1,r.length-1):r}])}),[]).reverse().map((function(t){var e=t.chunk.match(_);return t.en=J[t.command],t.values=e?e.map(parseFloat):[],delete t.chunk,t}))}(K(t))},set:function(e){if(1==(arguments.length<=1?0:arguments.length-1)){var n=t(arguments.length<=1?void 0:arguments[1]);nt[n]&&(et(e),nt[n](e,arguments.length<=1?void 0:arguments[1]))}},add:function(e){if(1==(arguments.length<=1?0:arguments.length-1)){var n=t(arguments.length<=1?void 0:arguments[1]);nt[n]&&nt[n](e,arguments.length<=1?void 0:arguments[1])}}};Object.keys(J).forEach((function(t){rt[J[t]]=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return tt.apply(void 0,[e,t].concat(r))}}));var ot={path:{methods:rt}},it={rect:{args:function(t,n,r,o){return j.apply(void 0,e(x(t,n,r,o))).slice(0,4)}}},at=function(t){return(new c.DOMParser).parseFromString("<root></root>","text/xml").createCDATASection("".concat(t))},
ct={style:{methods:{setTextContent:function(t,e){t.textContent="",t.appendChild(at(e))}}}},ut={text:{args:function(t,n,r){return j.apply(void 0,e(x(t,n,r))).slice(0,2)},init:function(e,n,o,i,a){var u=[n,o,i,a].filter((function(e){return t(e)===r.string})).shift();u&&(e.firstChild?e.firstChild.nodeValue=u:e.appendChild(c.document.createTextNode(u)))}}},st=function(t,e,n,r,o){null==o&&(o=0);var i=n/1-n;return[t-i-o,e-i-o,n+2*i+2*o,r+2*i+2*o].join(" ")};function lt(){var t=j.apply(void 0,e(x(arguments)));return 2===t.length&&t.unshift(0,0),4===t.length?st.apply(void 0,e(t)):void 0}var ft={removeChildren:function(t){for(;t.lastChild;)t.removeChild(t.lastChild)},appendTo:function(t,e){null!=e&&e.appendChild(t)},setAttributes:function(t,e){return Object.keys(e).forEach((function(n){return t.setAttribute(U(n),e[n])}))}},dt=function(e){if(t(e)===r.string||e instanceof String)try{return function(t){var e=t.getElementsByTagName("parsererror");if(e.length>0)throw new Error(e[0]);return t.documentElement}((n=e,(new c.DOMParser).parseFromString(n,"text/xml")))}catch(t){return t}var n;if(null!=e.childNodes)return e},pt="viewBox",ht=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];var o=1===n.length&&"string"==typeof n[0]?n[0]:lt.apply(void 0,n);return o&&t.setAttribute(pt,o),t},vt=function(e){var n=function(t){var e=t.getAttribute(pt);return null==e?void 0:e.split(" ").map((function(t){return parseFloat(t)}))}(e);if(void 0!==n)return n;if(t(e.getBoundingClientRect)===r.function){var o=e.getBoundingClientRect();return[o.x,o.y,o.width,o.height]}return[]},gt="svg-background-rectangle",mt=function(t,e){var n=function(t){var e=t.getElementsByTagName(r.style);return 0===e.length?void 0:e[0]}(t);return null==n&&(n=this.Constructor(r.style),t.insertBefore(n,t.firstChild)),n.textContent="",n.appendChild(at(e)),n},yt=function(t){Array.from(t.attributes).filter((function(t){return"xmlns"!==t})).forEach((function(e){return t.removeAttribute(e.name)})),ft.removeChildren(t)},bt={clear:yt,size:ht,setViewBox:ht,background:function(t,n){var o=Array.from(t.childNodes).filter((function(t){return t.getAttribute(r.class)===gt})).shift();return null==o&&((o=this.Constructor.apply(this,["rect"].concat(e(vt(t))))).setAttribute(r.class,gt),t.insertBefore(o,t.firstChild)),o.setAttribute("fill",n),o},getWidth:function(t){return vt(t)[2]},getHeight:function(t){return vt(t)[3]},stylesheet:function(t){return mt.call(this,t)},load:function(t,e,n){return r=t,void(null!=(o=dt(e))&&(yt(r),Array.from(o.childNodes).forEach((function(t){o.removeChild(t),r.appendChild(t)})),Array.from(o.attributes).forEach((function(t){return r.setAttribute(t.name,t.value)}))));var r,o},save:function(t,e){e=Object.assign({output:r.string,windowStyle:!1,filename:"image.svg"},e);var n,o,u,s,l=function(t,e){for(var n=t.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").split("~::~"),r=n.length,o=!1,i=0,a="",c=null!=e&&"string"==typeof e?e:"\t",u=["\n"],s=0;s<100;s+=1)u.push(u[s]+c);for(var l=0;l<r;l+=1)n[l].search(/<!/)>-1?(a+=u[i]+n[l],o=!0,(n[l].search(/-->/)>-1||n[l].search(/\]>/)>-1||n[l].search(/!DOCTYPE/)>-1)&&(o=!1)):n[l].search(/-->/)>-1||n[l].search(/\]>/)>-1?(a+=n[l],o=!1):/^<\w/.exec(n[l-1])&&/^<\/\w/.exec(n[l])&&/^<[\w:\-\.\,]+/.exec(n[l-1])==/^<\/[\w:\-\.\,]+/.exec(n[l])[0].replace("/","")?(a+=n[l],o||(i-=1)):n[l].search(/<\w/)>-1&&-1===n[l].search(/<\//)&&-1===n[l].search(/\/>/)?a=a+=o?n[l]:u[i++]+n[l]:n[l].search(/<\w/)>-1&&n[l].search(/<\//)>-1?a=a+=o?n[l]:u[i]+n[l]:n[l].search(/<\//)>-1?a=a+=o?n[l]:u[--i]+n[l]:n[l].search(/\/>/)>-1?a=a+=o?n[l]:u[i]+n[l]:n[l].search(/<\?/)>-1||n[l].search(/xmlns\:/)>-1||n[l].search(/xmlns\=/)>-1?a+=u[i]+n[l]:a+=n[l];return"\n"===a[0]?a.slice(1):a}((new c.XMLSerializer).serializeToString(t));return i&&!a&&(n=e.filename,o=l,u=new c.Blob([o],{type:"text/plain"}),(s=c.document.createElement("a")).setAttribute("href",c.URL.createObjectURL(u)),s.setAttribute("download",n),c.document.body.appendChild(s),s.click(),c.document.body.removeChild(s)),"svg"===e.output?t:l}},At=(new c.DOMParser).parseFromString("<div />","text/xml").documentElement.constructor,wt={svg:{args:function(){return[lt.apply(void 0,arguments)].filter((function(t){return void 0!==t}))},methods:bt,init:function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];var a=o.filter((function(t){return null!=t})).filter((function(t){return t instanceof At})).shift();null!=a&&t(a.appendChild)===r.function&&a.appendChild(e)}}},xt=function(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)},Et=function(){return Array.from(arguments).filter((function(e){return t(e)===r.string||e instanceof String})).shift()||xt()},Ct=function(){return[Et.apply(void 0,arguments)]},jt={mask:{args:Ct},clipPath:{args:Ct},symbol:{args:Ct},marker:{args:Ct,methods:{size:ht,setViewBox:ht}}},kt=function(){var t=arguments;return Array.from(Array(Math.floor(arguments.length/2))).map((function(e,n){return"".concat(t[2*n+0],",").concat(t[2*n+1])})).join(" ")},Ot=function(){return[kt.apply(void 0,e(j.apply(void 0,e(x.apply(void 0,arguments)))))]},Mt=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.setAttribute("points",Ot.apply(void 0,n)[0])},Pt={polyline:{args:Ot,methods:{setPoints:Mt}},polygon:{args:Ot,methods:{setPoints:Mt}}},St=Object.assign({},V,$,Q,ot,it,ct,ut,wt,jt,Pt),Nt={presentation:["color","color-interpolation","cursor","direction","display","fill","fill-opacity","fill-rule","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","opacity","overflow","paint-order","pointer-events","preserveAspectRatio","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","tabindex","transform-origin","user-select","vector-effect","visibility"],animation:["accumulate","additive","attributeName","begin","by","calcMode","dur","end","from","keyPoints","keySplines","keyTimes","max","min","repeatCount","repeatDur","restart","to","values"],effects:["azimuth","baseFrequency","bias","color-interpolation-filters","diffuseConstant","divisor","edgeMode","elevation","exponent","filter","filterRes","filterUnits","flood-color","flood-opacity","in","in2","intercept","k1","k2","k3","k4","kernelMatrix","lighting-color","limitingConeAngle","mode","numOctaves","operator","order","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","primitiveUnits","radius","result","seed","specularConstant","specularExponent","stdDeviation","stitchTiles","surfaceScale","targetX","targetY","type","xChannelSelector","yChannelSelector"],text:["dx","dy","alignment-baseline","baseline-shift","dominant-baseline","lengthAdjust","method","overline-position","overline-thickness","rotate","spacing","startOffset","strikethrough-position","strikethrough-thickness","text-anchor","text-decoration","text-rendering","textLength","underline-position","underline-thickness","word-spacing","writing-mode"],gradient:["gradientTransform","gradientUnits","spreadMethod"]};Object.values(s).reduce((function(t,e){return t.concat(e)}),[]).filter((function(t){return void 0===R[t]})).forEach((function(t){R[t]=[]})),[[["svg","defs","g"].concat(s.v,s.t),Nt.presentation],[["filter"],Nt.effects],[s.cT.concat("text"),Nt.text],[s.cF,Nt.effects],[s.cG,Nt.gradient]].forEach((function(t){return t[0].forEach((function(e){R[e]=R[e].concat(t[1])}))})),n(R);var Tt=function(t){if(null==t)return[];var e=t.getAttribute(r.class);return null==e?[]:e.split(" ").filter((function(t){return""!==t}))},Ft={addClass:function(t,e){var n=Tt(t).filter((function(t){return t!==e}));n.push(e),t.setAttributeNS(null,r.class,n.join(" "))},removeClass:function(t,e){var n=Tt(t).filter((function(t){return t!==e}));t.setAttributeNS(null,r.class,n.join(" "))},setClass:function(t,e){t.setAttributeNS(null,r.class,e)},setId:function(t,e){t.setAttributeNS(null,r.id,e)}},Lt=function(t){var e=t.getAttribute(r.transform);return null==e||""===e?void 0:e},zt={clearTransform:function(t){return t.removeAttribute(r.transform),t}};["translate","rotate","scale","matrix"].forEach((function(t){zt[t]=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return e.setAttribute(r.transform,[Lt(e),"".concat(t,"(").concat(o.join(" "),")")].filter((function(t){return void 0!==t})).join(" "))}}));var Dt,Bt={};["clip-path","mask","symbol","marker-end","marker-mid","marker-start"].forEach((function(e){Bt[G(e)]=function(n,o){return n.setAttribute(e,function(e){if(null==e)return"";if(t(e)===r.string)return"url"===e.slice(0,3)?e:"url(#".concat(e,")");if(null!=e.getAttribute){var n=e.getAttribute(r.id);return"url(#".concat(n,")")}return""}(o))}}));var Gt={};(Dt=s.v).push.apply(Dt,e(Object.keys(T))),Object.keys(T).forEach((function(t){T[t].attributes=void 0===T[t].attributes?e(Nt.presentation):T[t].attributes.concat(Nt.presentation)})),Object.assign(Gt,St,T),Object.keys(s).forEach((function(t){return s[t].filter((function(t){return void 0===Gt[t]})).forEach((function(t){Gt[t]={}}))}));var Ut=function(){return Array.from(arguments)};Object.keys(Gt).forEach((function(t){Gt[t].nodeName||(Gt[t].nodeName=t),Gt[t].init||(Gt[t].init=Ut),Gt[t].args||(Gt[t].args=Ut),Gt[t].methods||(Gt[t].methods={}),Gt[t].attributes||(Gt[t].attributes=R[t]||[])}));var qt=function(t,e){t.forEach((function(t){return Object.keys(e).forEach((function(n){Gt[t].methods[n]=function(){return e[n].apply(e,arguments),arguments[0]}}))}))};qt(x(s.t,s.v,s.g,s.s,s.p,s.i,s.h,s.d),Ft),qt(x(s.t,s.v,s.g,s.s,s.p,s.i,s.h,s.d),ft),qt(x(s.v,s.g,s.s),zt),qt(x(s.t,s.v,s.g),Bt),n(Gt);var Rt={svg:{version:"1.1",xmlns:u},style:{type:"text/css"}},Xt=function(t,e){Rt[e]&&Object.keys(Rt[e]).forEach((function(n){return t.setAttribute(n,Rt[e][n])}))},Yt={},Vt=function t(e){for(var n,r,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];var s=c.document.createElementNS(u,Gt[e].nodeName);return Xt(s,e),(n=Gt[e]).init.apply(n,[s].concat(i)),(r=Gt[e]).args.apply(r,i).forEach((function(t,n){null!=Gt[e].attributes[n]&&s.setAttribute(Gt[e].attributes[n],t)})),Gt[e].attributes.forEach((function(t){Object.defineProperty(s,G(t),{value:function(){return s.setAttribute.apply(s,[t].concat(Array.prototype.slice.call(arguments))),s}})})),Object.keys(Gt[e].methods).forEach((function(t){return Object.defineProperty(s,t,{value:function(){var n;return(n=Gt[e].methods[t]).call.apply(n,[Yt,s].concat(Array.prototype.slice.call(arguments)))||s}})})),B[e]&&B[e].forEach((function(e){Object.defineProperty(s,e,{value:function(){var n=t.apply(void 0,[e].concat(Array.prototype.slice.call(arguments)));return s.appendChild(n),n}})})),s};Yt.Constructor=Vt;var Zt={};Object.keys(s).forEach((function(t){return s[t].forEach((function(t){Zt[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Vt.apply(void 0,[t].concat(n))}}))})),n(Zt);var It={move:["mousemove","touchmove"],press:["mousedown","touchstart"],release:["mouseup","touchend"]},$t=Object.values(It).reduce((function(t,e){return t.concat(e)}),[]),Ht=function(t,e,n){return Object.defineProperty(t,e,{get:function(){return n},enumerable:!0})},Qt=function(t){var e=[],n=[];Object.keys(It).forEach((function(t){It[t].forEach((function(t){n[t]=[]}))}));var r={press:function(){},release:function(){},move:function(t,n){t.buttons>0&&void 0===e[0]?e=n:0===t.buttons&&void 0!==e[0]&&(e=[]),["startX","startY"].forEach((function(n,r){return Ht(t,n,e[r])}))}};Object.keys(It).forEach((function(e){var o="on"+q(e);Object.defineProperty(t,o,{set:function(o){return null==o?function(e){It[e].forEach((function(e){n[e].forEach((function(n){return t.removeEventListener(e,n)}))}))}(e):It[e].forEach((function(i){var a=function(n){var i=null!=n.touches?n.touches[0]:n,a=function(t,e,n){var r=t.createSVGPoint();r.x=e,r.y=n;var o=r.matrixTransform(t.getScreenCTM().inverse());return[o.x,o.y]}(t,i.clientX,i.clientY);["x","y"].forEach((function(t,e){return Ht(n,t,a[e])})),r[e](n,a),o(n)};n[i].push(a),t.addEventListener(i,a)}))},enumerable:!0})})),Object.defineProperty(t,"off",{value:function(){return function(t,e){return $t.forEach((function(n){e[n].forEach((function(e){return t.removeEventListener(n,e)})),e[n]=[]}))}(t,n)}})},Wt=function(t){var e,n,r={},o=0,i=function(){c.cancelAnimationFrame(n),Object.keys(r).forEach((function(t){return delete r[t]})),e=void 0,o=0};Object.defineProperty(t,"play",{set:function(t){if(i(),null!=t){var a=xt();r[a]=function(i){e||(e=i),t({time:.001*(i-e),frame:o}),o+=1,r[a]&&(n=c.requestAnimationFrame(r[a]))},n=c.requestAnimationFrame(r[a])}},enumerable:!0}),Object.defineProperty(t,"stop",{value:i,enumerable:!0})},_t=function(t,e){return[0,1].map((function(n){return t[n]-e[n]})).map((function(t){return Math.pow(t,2)})).reduce((function(t,e){return t+e}),0)},Jt=[["cx","cy"],["x","y"]],Kt=function(t){var n=[0,0],r={selected:!1,svg:void 0,updatePosition:function(t){return t}},o=function(){r.svg&&(r.svg.parentNode||t.appendChild(r.svg),Jt.filter((function(t){return null!=r.svg[t[0]]})).forEach((function(t){return t.forEach((function(t,e){r.svg.setAttribute(t,n[e])}))})))},i=new Proxy(n,{set:function(t,e,n,r){return t[e]=n,o(),!0}}),a=function(){j.apply(void 0,e(x.apply(void 0,arguments))).forEach((function(t,e){n[e]=t})),o(),"function"==typeof n.delegate&&n.delegate.apply(n.pointsContainer,[i,n.pointsContainer])};return n.delegate=void 0,n.setPosition=a,n.onMouseMove=function(t){return r.selected?a(r.updatePosition(t)):void 0},n.onMouseUp=function(){r.selected=!1},n.distance=function(t){return Math.sqrt(_t(t,n))},["x","y"].forEach((function(t,e){return Object.defineProperty(n,t,{get:function(){return n[e]},set:function(t){n[e]=t}})})),["svg","updatePosition","selected"].forEach((function(t){Object.defineProperty(n,t,{get:function(){return r[t]},set:function(e){r[t]=e}})})),Object.defineProperty(n,"remove",{value:function(){!function(t){t&&t.parentNode&&t.parentNode.removeChild(t)}(r.svg),n.delegate=void 0}}),i},te=function(t,e,n){var r,o,i=Array.from(Array(e)).map((function(){return Kt(t)})),a=function(t){return"function"==typeof o?o.call(i,i,t):void 0};i.forEach((function(t){t.delegate=a,t.pointsContainer=i}));t.onPress=function(t){i.length>0&&(r=i.map((function(e,n){return{i:n,d:_t(e,[t.x,t.y])}})).sort((function(t,e){return t.d-e.d})).shift().i,i[r].selected=!0)},t.onMove=function(t){i.forEach((function(e){return e.onMouseMove(t)}))},t.onRelease=function(){i.forEach((function(t){return t.onMouseUp()})),r=void 0},Object.defineProperty(i,"selectedIndex",{get:function(){return r}}),Object.defineProperty(i,"selected",{get:function(){return i[r]}}),Object.defineProperty(i,"add",{value:function(e){i.push(Kt(t))}}),i.removeAll=function(){for(;i.length>0;)i.pop().remove()};var c={onChange:function(t,e){o=t,!0===e&&t.call(i,i,void 0)},position:function(t){return i.forEach((function(e,n){return e.setPosition(t.call(i,n))}))},svg:function(t){return i.forEach((function(e,n){e.svg=t.call(i,n)}))}};return Object.keys(c).forEach((function(t){i[t]=function(){return"function"==typeof arguments[0]&&c[t].apply(c,arguments),i}})),i.parent=function(t){return null!=t&&null!=t.appendChild&&i.forEach((function(e){t.appendChild(e.svg)})),i},i},ee=function(t){t.controls=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return te.call.apply(te,[t,t].concat(n))}},ne=function(e){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];o.filter((function(e){return t(e)===r.function})).forEach((function(t){return t.call(e,e)}))},re=function(){var t=arguments,n=Vt.apply(void 0,[r.svg].concat(Array.prototype.slice.call(arguments)));return Qt(n),Wt(n),ee(n),"loading"===c.document.readyState?c.document.addEventListener("DOMContentLoaded",(function(){return ne.apply(void 0,[n].concat(e(t)))})):ne.apply(void 0,[n].concat(Array.prototype.slice.call(arguments))),n};return Object.assign(re,Zt),re.NS=u,re}));
