<!DOCTYPE html>
<title></title>
<style>
html, body, h1, h2, h3, h4, h5, h6, pre, code, p, ul, li {
  margin: 0;
}
body {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; 
  font-weight: 400;
  margin: 1rem;
  background-color: #12130A;
}
h1, h2, h3, h4, h5, h6 {
  font-family: Futura, "Helvetica Neue", Helvetica, sans-serif;
}
h1{
  margin-top: 1rem;
  margin-bottom: 0;
  color: #bbb;
  font-size: 4rem;
}
h2 {
  color: #ddd;
  margin: 1rem 0;
  font-size: 2.25rem;
}
h3 {
  margin: 2rem 0 0.5rem 0;
  color: #ddd;
}
p, ul {
  background-color: #23251e;
  padding: 0.5rem 1rem;
}
p, ul, pre.returns {
  color: #bbb;
}
pre {
  color: white;
  padding: 1rem 1rem;
  display: block;
  font-size: 170%;
  overflow-x: scroll;
}
ul {
  list-style: none;
  padding-left: 1em;
}
a, a:hover, a:visited, a:active {
  color: #ec3;
  text-decoration: none;
}
p a{
  font-weight: 800;
}

div {
  margin-top: 5rem;
  margin-left: -0.5rem;
  margin-right: -0.5rem;
  padding: 0.75rem;
  border: 4px dashed #888;
}
div h1{
  margin-top: 1rem;
  margin-bottom: 1rem;
}
div h3 {
  margin: 2rem 0 0.5rem 0;
}
div p, div ul, div li {
  background-color: #23251e;
}
div ul{
  padding-right: 3em;
}
pre.returns {
  padding: 0.5rem 1rem;
  margin: 0;
  background-color: #23251e;
  font-size: 130%;
}
pre.title {
  margin-top: 2rem;
}
h3 + pre.title {
  margin-top: 0;
}
h3 {
  margin-top: 5rem;
}
/*h3:first-of-type {
  margin-top: 1rem;
}*/
pre.returns, .description {
  margin-left: 3rem;
}
svg.sky {
  position: absolute;
  top: 0;
  left: 0;
  z-index: -5;
}
svg.spinner {
  position: absolute;
  top: 0;
  right: 0;
  z-index: -2;
}
svg.header {
  width: 100%;
}
div.header {
  border: none;
  padding: 0;
  margin: 0;
  background-color: initial;
  width: 100%;
}

f   { color: #49d; } /* function */
n   { color: #AE81FF; } /* number */
v   { color: #A6E22E; } /* variable */
arg { color: #e53; } /* #FD9720;    argument */
key { color: #f15; } /* #F92672;  operator */
str { color: #ec3; } /* string */

h1, h2, h3, h4, h5, h6, pre, code, p, ul, li, div {
  z-index: 2;
  /*pointer-events: none;*/
}

@media (min-width: 720px) {
  body { margin: 2rem 100px 4rem 100px; }
  /*svg.header { width: calc(100% - 200px); }*/
  /*div.header { background-color: red; }*/
}
@media (min-width: 1120px) {
  body { margin: 4rem 300px 6rem 300px; }
  /*svg.header { width: calc(100% - 8rem); }*/
}
@keyframes twinkle {
  from { fill: #12130A; }
  to { fill: #bbb; }
}
circle { fill: #12130A; }
.twinkle-0 { animation: twinkle 5s ease-in-out 0s infinite alternate; }
.twinkle-1 { animation: twinkle 5s ease-in-out 1s infinite alternate; }
.twinkle-2 { animation: twinkle 5s ease-in-out 2s infinite alternate; }
.twinkle-3 { animation: twinkle 5s ease-in-out 3s infinite alternate; }
.twinkle-4 { animation: twinkle 5s ease-in-out 4s infinite alternate; }
</style>
<body>

  <!-- <h1>SVG Reference</h1> -->
  <div class="header"></div>

    <pre class="title"><code><f>svg</f>()</code></pre>
    <pre class="returns">&gt; creates one <a href="https://www.w3.org/TR/SVG/struct.html#SVGElement">&lt;svg&gt;</a> element</pre>
    <p class="description">(optional) parameters include:</p>
    <ul class="description">
      <li>- two numbers, width and height</li>
      <li>- a dom element, a parent element to append</li>
    </ul>
  <h3>Drawing</h3>

    <pre class="title"><code><f>line</f>(<arg>x1</arg>, <arg>y1</arg>, <arg>x2</arg>, <arg>y2</arg>)</code></pre>
    <pre class="returns">&gt; creates one <a href="https://www.w3.org/TR/SVG/shapes.html#LineElement">&lt;line&gt;</a> element</pre>
    <p class="description">this is a 2D line segment defined by a pair of endpoints.</p>

    <pre class="title"><code><f>circle</f>(<arg>x</arg>, <arg>y</arg>, <arg>radius</arg>)</code></pre>
    <pre class="returns">&gt; creates one <a href="https://www.w3.org/TR/SVG/shapes.html#CircleElement">&lt;circle&gt;</a> element</pre>
    <p class="description">a circle is defined by its center (x,y) and its radius.</p>

    <pre class="title"><code><f>ellipse</f>(<arg>x</arg>, <arg>y</arg>, <arg>rx</arg>, <arg>ry</arg>)</code></pre>
    <pre class="returns">&gt; creates one <a href="https://www.w3.org/TR/SVG/shapes.html#EllipseElement">&lt;ellipse&gt;</a> element</pre>
    <p class="description">an ellipse is defined by its center (x,y) and its radius along two axes rx and ry. the axes of the radii are parallel to the x,y axes, you have to apply a rotate transform to make it otherwise.</p>

    <pre class="title"><code><f>rect</f>(<arg>x</arg>, <arg>y</arg>, <arg>width</arg>, <arg>height</arg>)</code></pre>
    <pre class="returns">&gt; creates one <a href="https://www.w3.org/TR/SVG/shapes.html#RectElement">&lt;rect&gt;</a> element</pre>
    <p class="description">the (x,y) point defines the top left corner of the rectangle.</p>

    <pre class="title"><code><f>polygon</f>(<arg>pointsArray</arg>)</code></pre>
    <pre class="returns">&gt; creates one <a href="https://www.w3.org/TR/SVG/shapes.html#PolygonElement">&lt;polygon&gt;</a> element</pre>
    <p class="description">a polygon is a closed shape defined by a series of points that trace the outline of the polygon. the stroke will automatically connect the end back to the beginning.</p>
    <ul class="description">
      <li><code>[[0.5, 1.0], [3.5, 2.5], [10, 10]]</code></li>
      <li><code>{x:0.5, y:1.0}, {x:3.5, y:2.5}, {x:10, y:10}</code></li>
      <li><code>0.5, 1.0, 3.5, 2.5, 10, 10</code></li>
    </ul>
    <p class="description">this function accepts any nested level of array of points (including x,y objects), and will convert it into the proper space-separated x,y pairs string.</p>
    <ul class="description"><li><code>"0.5,1.0 3.5,2.5 10,10"</code></li></ul>

    <pre class="title"><code><f>polyline</f>(<arg>pointsArray</arg>)</code></pre>
    <pre class="returns">&gt; creates one <a href="https://www.w3.org/TR/SVG/shapes.html#PolylineElement">&lt;polyline&gt;</a> element</pre>
    <p class="description">just like the polygon but the beginning and end aren't connected by a stroke.</p>

    <pre class="title"><code><f>bezier</f>(<arg>fromX</arg>, <arg>fromY</arg>, <arg>c1X</arg>, <arg>c1Y</arg>, <arg>c2X</arg>, <arg>c2Y</arg>, <arg>toX</arg>, <arg>toY</arg>)</code></pre>
    <pre class="returns">&gt; creates one <a href="https://www.w3.org/TR/SVG/paths.html#PathElement">&lt;path&gt;</a> element</pre>
    <p class="description">a bezier curve is defined between two points (fromX, fromY) and (toX, toY) with two control points (c1X, c1Y) and (c2X, c2Y). The arguments are arranged in order of appearance when tracing the line from start to finish.</p>

    <pre class="title"><code><f>arc</f>(<arg>x</arg>, <arg>y</arg>, <arg>radius</arg>, <arg>angleA</arg>, <arg>angleB</arg>)</code></pre>
    <pre class="returns">&gt; creates one <a href="https://www.w3.org/TR/SVG/paths.html#PathElement">&lt;path&gt;</a> element</pre>
    <p class="description">an arc is the curve along the boundary of a circle.</p>

    <pre class="title"><code><f>wedge</f>(<arg>x</arg>, <arg>y</arg>, <arg>radius</arg>, <arg>angleA</arg>, <arg>angleB</arg>)</code></pre>
    <pre class="returns">&gt; creates one <a href="https://www.w3.org/TR/SVG/paths.html#PathElement">&lt;path&gt;</a> element</pre>
    <p class="description">a wedge is a filled arc, like a slice of a pie that includes the center of the circle.</p>

    <pre class="title"><code><f>regularPolygon</f>(<arg>cX</arg>, <arg>cY</arg>, <arg>radius</arg>, <arg>sides</arg>)</code></pre>
    <pre class="returns">&gt; creates one <a href="https://www.w3.org/TR/SVG/shapes.html#PolygonElement">&lt;polygon&gt;</a> element</pre>
    <p class="description">creates regular polygons of n number of sides (3 = eq. triangle), centered at point (cX, cY), with a circumscribed radius.</p>

    <pre class="title"><code><f>parabola</f>(<arg>x</arg>, <arg>y</arg>, <arg>width</arg>, <arg>height</arg>)</code></pre>
    <pre class="returns">&gt; creates one <a href="https://www.w3.org/TR/SVG/shapes.html#PolylineElement">&lt;polyline&gt;</a> element</pre>
    <p class="description">This creates a polyline approximation of the curve y=x², centered on the y-axis. The parameters define the rectangle that encloses the curve.</p>

    <pre class="title"><code><f>text</f>(<arg>textString</arg>, <arg>x</arg>, <arg>y</arg>)</code></pre>
    <pre class="returns">&gt; creates one <a href="https://www.w3.org/TR/SVG/text.html#TextElement">&lt;text&gt;</a> element</pre>
    <p class="description">the x and y describe the location of the left most point along the baseline. the text sits above the point in the y direction. if defined at (0,0) the text will sit above the top of the frame.</p>

  <h3>Header</h3>
    <pre class="title"><code><f>defs</f>()</code></pre>
    <pre class="returns">&gt; creates one <a href="https://www.w3.org/TR/SVG/struct.html#DefsElement">&lt;defs&gt;</a> element</pre>
    <p class="description">Defs is the SVG's header element. It's recommend that style, clip paths, and masks all go in the defs section, though they still work elsewhere. Any drawing primitives appended to the defs <b>will not be drawn</b>.</p>

    <pre class="title"><code><f>style</f>()</code></pre>
    <pre class="returns">&gt; creates one <a href="https://www.w3.org/TR/SVG/styling.html#StyleElement">&lt;style&gt;</a> element</pre>
    <p class="description">A style section contain CSS text (on property .innerHTML). CSS is helpful for selecting multiple objects and styling them with one definition.</p>
    <p class="description">But be careful! Style sections affect the global space. Multiple SVG images on the same HTML document all inherit each other's style sections.</p>

    <pre class="title"><code><f>clipPath</f>(<arg>id_name</arg>)</code></pre>
    <pre class="returns">&gt; creates one <a href="https://drafts.fxtf.org/css-masking-1/#ClipPathElement">&lt;clip-path&gt;</a> element</pre>
    <p class="description">A clip path sits in the header, like style. Append closed-geometry elements to it and they will become a clipping mask. Clip another element by styling its clip-path attribute:</p>
    <ul class="description"><li><code><f>const</f> clip <key>=</key> <f>clipPath</f>();<br>shape.<f>clipPath</f>(clip);</code></li></ul>
    <p class="description">which will automatically perform a call like this, matching the url id name parameter.</p>
    <ul class="description"><li><code>shape.<f>setAttribute</f>(<str>"clip-path"</str>, <str>"url(#id_name)"</str>);</code></li></ul>
    
    <pre class="title"><code><f>mask</f>(<arg>id_name</arg>)</code></pre>
    <pre class="returns">&gt; creates one <a href="https://drafts.fxtf.org/css-masking-1/#MaskElement">&lt;mask&gt;</a> element</pre>
    <p class="description">A mask is similar to a clip path but instead of a path, a mask is a black and white image. Fill the mask layer with black and white shapes (or gray for transparency). Clip another element by setting its mask attribute:</p>
    <ul class="description"><li><code><f>const</f> m <key>=</key> <f>mask</f>();<br>shape.<f>mask</f>(m);</code></li></ul>
    <p class="description">which will automatically perform a call like this, matching the url id name parameter.</p>
    <ul class="description"><li><code>shape.<f>setAttribute</f>(<str>"mask"</str>, <str>"url(#id_name)"</str>);</code></li></ul>


  <h3>Layering</h3>

    <pre class="title"><code><f>group</f>()</code></pre>
    <pre class="returns">&gt; creates one <a href="https://www.w3.org/TR/SVG/struct.html#Groups">&lt;group&gt;</a> element</pre>
    <p class="description">like a layer in Photoshop, a group is a container. it's useful for z-ordering. it doesn't show up visually, but if you style it, the style will apply to all its children.</p>


  <div>
  <h2>Style</h2>

    <pre><code><f>stroke</f>: <f>none</f><br><f>fill</f>: <f>black</f></code></pre>

    <p>This is an SVG shape's default style, causing some shapes like <code>&lt;line&gt;</code> to be <em><b>initially invisible</b></em>! Typically, there are three ways to change this:</p>

    <pre><code>1. line.<f>setAttribute</f>(<str>"stroke"</str>, <str>"black"</str>)</code></pre>
    <pre><code>2. line.<f>setAttribute</f>(<str>"style"</str>, <str>"stroke: black;"</str>)</code></pre>
    <pre><code>3. &lt;<key>style</key>&gt;<br>  <key>line</key> { <f>stroke</f>: <f>black</f>; }<br>&lt;/<key>style</key>&gt;</code></pre>

    <p>This library introduces a fourth: chaining methods, which ultimately call <b>setAttribute</b>. The name of the function is the name of the style attribute (kebab-case is converted to camel-case).</p>
    
    <pre><code><f>line</f>(<n>0</n>, <n>0</n>, <n>300</n>, <n>300</n>)<br>   .<f>stroke</f>(<str>"#F08"</str>)<br>   .<f>strokeWidth</f>(<n>3</n>);</code></pre>
  </div>

  <div>
  <h2><a href="https://svg.rabbitear.org">✨ svg . rabbitear . org ✨</a></h2>
    <p>This web-editor allows you to write:</p>
    <pre><code>line(<n>0</n>,<n>1</n>,<n>2</n>,<n>3</n>);</code></pre>
    <p>instead of:</p>
    <pre><code>svg.line(<n>0</n>,<n>1</n>,<n>2</n>,<n>3</n>);</code></pre>
    <p>This is possible because it assumes <b>only one svg</b>, and thereby automatically appending children to it.</p>
    <p>When using this library outside of this editor, keep in mind the syntax will be slightly more verbose.</p>
  </div>

<script type="text/javascript" src="https://svg.rabbitear.org/svg.min.js"></script>
<!-- <script type="text/javascript" src="svg.min.js"></script> -->

<script>
window.onload = function () {
  var title = SVG(document.getElementsByClassName("header")[0]);
  var titleString = "SVG Playground";
  title.setViewBox(0, 0, 560, 80);
  title.setClass("header");
  var text = title.text(titleString, 0, 64)
    .fontFamily("Futura, 'Helvetica Neue', Helvetica, sans-serif")
    .fontWeight("bold")
    .fontSize(60)
    .fill("#333");
  var clip = title.clipPath();
  // var clone = text.cloneNode(false);
  // clone.innerHTML = titleString;
  // clip.appendChild(clone);
  clip.appendChild(text);
  var walker = title.polyline()
    .fill("none")
    .stroke("#ec3")
    .strokeWidth(8)
    .clipPath(clip);
  var width = title.getWidth();
  var height = title.getHeight();
  var pen = {
    x: width * 0.5,
    y: height * 0.5
  };
  var walkerPoints = [];
  var animationFunction = function (event) {
    var radius = Math.cos(event.time) * 300 + 310;
    pen.x += Math.random() * radius - radius * 0.5;
    pen.y += Math.random() * radius - radius * 0.5;
    if (pen.x < 0) { pen.x = 0; }
    if (pen.y < 0) { pen.y = 0; }
    if (pen.x > width) { pen.x = width; }
    if (pen.y > height) { pen.y = height; }
    walkerPoints.push([pen.x, pen.y]);
    walker.setPoints(walkerPoints);
    if (walkerPoints.length > 1500) {
      title.animate = null;
    }
  };
  title.animate = animationFunction;
  title.mousePressed = function () {
    walkerPoints = [];
    title.animate = animationFunction;
  };
/*
  // make the stars. but do it later after page load
  setTimeout(function () {
    var sky = SVG(window.innerWidth, document.body.clientHeight);
    sky.setClass("sky");
    for (var i = 0; i < 1000; i += 1) {
      sky.circle(
        Math.random() * window.innerWidth,
        Math.random() * document.body.clientHeight,
        Math.random() + 0.5
      ).setClass("twinkle-" + (i % 5));
    }
  }, 3000);
*/
/*
  var spinner = SVG(window.innerWidth, document.body.clientHeight);
  spinner.setClass("spinner");
  var poly = spinner.polyline().fillRule("evenodd").fill("#23251e");
  function draw(ampfunc) {
    var points = [];
    var radius = window.innerWidth * 0.5;
    for (var i = 0; i < 62; i += 1) {
      var freq = 1.0;
      var phase = 0.0;
      var amp = ampfunc(i) * radius;
      points.push([
        amp * Math.cos(i * freq + phase) + document.body.clientWidth,
        amp * Math.sin(i * freq + phase) + document.body.clientHeight*0.5
      ]);
    }
    poly.setPoints(points);
  }
  spinner.fps = 30;
  spinner.animate = function (event) {
    draw(function (i) {
      return Math.cos(i / (2 + event.frame / 1000 / 4));
    });
  };
*/
};
</script>

</body>
